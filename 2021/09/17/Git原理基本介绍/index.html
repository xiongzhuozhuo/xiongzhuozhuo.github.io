<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/logo.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"github.com","root":"/","images":"/images","scheme":"Gemini","version":"8.2.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="Git">
<meta property="og:type" content="article">
<meta property="og:title" content="Git原理(01)">
<meta property="og:url" content="https://github.com/xiongzhuozhuo/xiongzhuozhuo.github.io/2021/09/17/Git%E5%8E%9F%E7%90%86%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/index.html">
<meta property="og:site_name" content="XiongZhuo">
<meta property="og:description" content="Git">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211044226.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211037689.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211043817.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211045927.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211052280.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211053039.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211529488.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211345564.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211530108.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211601796.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211720671.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211649503.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211720314.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211725016.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211733729.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108212109934.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108212110666.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108212118104.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221101784.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221123971.gif">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221156794.jpeg">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221158144.jpeg">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221202754.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221228160.png">
<meta property="article:published_time" content="2021-09-16T17:27:14.979Z">
<meta property="article:modified_time" content="2021-09-17T02:50:09.970Z">
<meta property="article:author" content="软糖豆人">
<meta property="article:tag" content="Git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211044226.png">


<link rel="canonical" href="https://github.com/xiongzhuozhuo/xiongzhuozhuo.github.io/2021/09/17/Git%E5%8E%9F%E7%90%86%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>Git原理(01) | XiongZhuo</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="XiongZhuo" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>
  
<a href="https://github.com/xiongzhuozhuo" class="github-corner" aria-label="View source on GitHub">
<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
</svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">XiongZhuo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git%E5%8E%9F%E7%90%86%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.</span> <span class="nav-text">Git原理基本介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-number">1.1.</span> <span class="nav-text">1.  代码仓库的初始化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-%E6%9F%A5%E7%9C%8Bconfig%E6%96%87%E4%BB%B6"><span class="nav-number">1.1.1.</span> <span class="nav-text">1.1 查看config文件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-1-%E4%BB%93%E5%BA%93%E7%BA%A7%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">1.1.1 仓库级配置文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-2-%E5%85%A8%E5%B1%80%E7%BA%A7%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">1.1.2 全局级配置文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-3-%E7%B3%BB%E7%BB%9F%E7%BA%A7%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">1.1.3 系统级配置文件</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-%E4%BD%BF%E7%94%A8git-config%E5%91%BD%E4%BB%A4%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">1.1.2.</span> <span class="nav-text">1.2 使用git config命令编辑配置文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-%E4%BD%BF%E7%94%A8git-config%E5%91%BD%E4%BB%A4%E5%A2%9E%E5%8A%A0%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="nav-number">1.1.3.</span> <span class="nav-text">1.3 使用git config命令增加一个配置项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-%E4%BD%BF%E7%94%A8git-config%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="nav-number">1.1.4.</span> <span class="nav-text">1.4 使用git config命令获取一个配置项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-5-%E4%BD%BF%E7%94%A8git-config%E5%91%BD%E4%BB%A4%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="nav-number">1.1.5.</span> <span class="nav-text">1.5 使用git config命令删除一个配置项</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-git-add%E8%83%8C%E5%90%8E%E5%8F%91%E4%BB%80%E4%B9%88%E4%BA%86%E4%BB%80%E4%B9%88"><span class="nav-number">1.2.</span> <span class="nav-text">2. git add背后发什么了什么</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-%E5%88%86%E6%9E%90%E6%96%B0%E5%A2%9E%E7%9A%84objects%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.1 分析新增的objects对象</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-blob%E5%AF%B9%E8%B1%A1%E5%92%8CSHA1%E5%93%88%E5%B8%8C"><span class="nav-number">1.3.</span> <span class="nav-text">3. blob对象和SHA1哈希</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-Hash%E7%AE%97%E6%B3%95"><span class="nav-number">1.3.1.</span> <span class="nav-text">3.1 Hash算法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-%E8%BF%98%E5%8E%9Fgit%E7%94%9F%E6%88%90SHA1%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="nav-number">1.3.2.</span> <span class="nav-text">3.2 还原git生成SHA1的过程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-%E4%BA%86%E8%A7%A3git%E9%80%9A%E8%BF%87%E5%8E%8B%E7%BC%A9%E5%AF%B9%E6%96%87%E4%BB%B6%E8%BF%9B%E8%A1%8C%E7%AE%A1%E7%90%86"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.3 了解git通过压缩对文件进行管理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%92%8C%E7%B4%A2%E5%BC%95%E5%8C%BA"><span class="nav-number">1.4.</span> <span class="nav-text">4. 工作区和索引区</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-%E6%96%B0%E5%BB%BAfile2-txt%EF%BC%8C%E4%B8%8D%E8%BF%9B%E8%A1%8C%E6%8F%90%E4%BA%A4%EF%BC%8C%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%8A%B6%E6%80%81"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.1 新建file2.txt，不进行提交，查看当前状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-%E5%B0%86file2-xtx%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%B4%A2%E5%BC%95%E5%8C%BA%E5%90%8E%E5%86%8D%E8%BF%9B%E8%A1%8C%E6%9F%A5%E7%9C%8B"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.2 将file2.xtx添加到索引区后再进行查看</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-%E4%BF%AE%E6%94%B9file1-txt%E5%90%8E%E5%86%8D%E8%BF%9B%E8%A1%8C%E6%9F%A5%E7%9C%8B"><span class="nav-number">1.4.3.</span> <span class="nav-text">4.3 修改file1.txt后再进行查看</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-%E5%B0%86%E4%BF%AE%E6%94%B9%E5%90%8E%E7%9A%84file1-txt%E8%BF%9B%E8%A1%8C%E6%8F%90%E4%BA%A4"><span class="nav-number">1.4.4.</span> <span class="nav-text">4.4 将修改后的file1.txt进行提交</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-git-commit%E8%83%8C%E5%90%8E%E5%8F%91%E4%BB%80%E4%B9%88%E4%BA%86%E4%BB%80%E4%B9%88"><span class="nav-number">1.5.</span> <span class="nav-text">5. git commit背后发什么了什么</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-%E6%9C%AA%E8%BF%9B%E8%A1%8Ccommit%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9%E5%92%8C%E7%8A%B6%E6%80%81"><span class="nav-number">1.5.1.</span> <span class="nav-text">5.1 未进行commit文件的内容和状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-commit%E4%B8%80%E6%AC%A1%E5%90%8E%E5%90%84%E6%96%87%E4%BB%B6%E7%9A%84%E7%8A%B6%E6%80%81"><span class="nav-number">1.5.2.</span> <span class="nav-text">5.2 commit一次后各文件的状态</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-1-objects%E4%B8%AD%E6%96%B0%E5%A2%9E%E6%96%87%E4%BB%B6"><span class="nav-number">1.5.2.1.</span> <span class="nav-text">5.2.1 objects中新增文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-2-refs%E4%B8%AD%E6%96%B0%E5%A2%9E%E6%96%87%E4%BB%B6"><span class="nav-number">1.5.2.2.</span> <span class="nav-text">5.2.2 refs中新增文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-3-commit%E4%B8%80%E6%AC%A1%E5%90%8E%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E7%9A%84%E7%8A%B6%E6%80%81"><span class="nav-number">1.5.2.3.</span> <span class="nav-text">5.2.3 commit一次后代码仓库的状态</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-commit%E4%BA%8C%E6%AC%A1%E5%90%8E%E5%90%84%E6%96%87%E4%BB%B6%E7%9A%84%E7%8A%B6%E6%80%81"><span class="nav-number">1.5.3.</span> <span class="nav-text">5.3 commit二次后各文件的状态</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-3-3-commit%E4%BA%8C%E6%AC%A1%E5%90%8E%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E7%9A%84%E7%8A%B6%E6%80%81"><span class="nav-number">1.5.3.1.</span> <span class="nav-text">5.3.3 commit二次后代码仓库的状态</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-4-commit%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="nav-number">1.5.4.</span> <span class="nav-text">5.4 commit文件夹</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-4-1-commit%E6%96%87%E4%BB%B6%E5%A4%B9%E5%90%8E%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E7%9A%84%E7%8A%B6%E6%80%81"><span class="nav-number">1.5.4.1.</span> <span class="nav-text">5.4.1 commit文件夹后代码仓库的状态</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E6%96%87%E4%BB%B6%E7%9A%84%E7%8A%B6%E6%80%81"><span class="nav-number">1.6.</span> <span class="nav-text">6. 文件的状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-Branch%E5%92%8CHEAD"><span class="nav-number">1.7.</span> <span class="nav-text">7. Branch和HEAD</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#7-1-Branch%E7%9A%84%E5%88%9B%E5%BB%BA%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="nav-number">1.7.1.</span> <span class="nav-text">7.1 Branch的创建和使用</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#7-1-1-%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF"><span class="nav-number">1.7.1.1.</span> <span class="nav-text">7.1.1 查看分支</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-1-2-%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF"><span class="nav-number">1.7.1.2.</span> <span class="nav-text">7.1.2 创建分支</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-1-3-%E5%88%87%E6%8D%A2%E5%88%86%E6%94%AF"><span class="nav-number">1.7.1.3.</span> <span class="nav-text">7.1.3 切换分支</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-1-4-%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF"><span class="nav-number">1.7.1.4.</span> <span class="nav-text">7.1.4 删除分支</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-checkout%E7%89%B9%E5%AE%9A%E7%9A%84commit"><span class="nav-number">1.8.</span> <span class="nav-text">8. checkout特定的commit</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">1.8.0.1.</span> <span class="nav-text">8.1 使用场景</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-git-diff%E5%91%BD%E4%BB%A4"><span class="nav-number">1.9.</span> <span class="nav-text">9. git diff命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E6%B7%BB%E5%8A%A0"><span class="nav-number">1.10.</span> <span class="nav-text">10. 远程仓库的添加</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-git-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%8E%8B%E7%BC%A9"><span class="nav-number">1.11.</span> <span class="nav-text">11. git 对象的压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-SHA1%E6%8F%92%E6%9B%B2"><span class="nav-number">1.12.</span> <span class="nav-text">12. SHA1插曲</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-git-pack%E5%8E%8B%E7%BC%A9"><span class="nav-number">1.13.</span> <span class="nav-text">13. git pack压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-git-pack%E8%A7%A3%E5%8E%8B%E7%BC%A9"><span class="nav-number">1.14.</span> <span class="nav-text">14. git pack解压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-git%E5%9E%83%E5%9C%BE%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%B8%85%E7%90%86"><span class="nav-number">1.15.</span> <span class="nav-text">15. git垃圾对象的清理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-fast-forward%E5%90%88%E5%B9%B6"><span class="nav-number">1.16.</span> <span class="nav-text">16. fast forward合并</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-3-way-merge"><span class="nav-number">1.17.</span> <span class="nav-text">17. 3 way merge</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-%E5%B8%A6%E5%86%B2%E7%AA%81%E7%9A%843-way-merge"><span class="nav-number">1.18.</span> <span class="nav-text">18. 带冲突的3 way merge</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-git-rebase"><span class="nav-number">1.19.</span> <span class="nav-text">19. git rebase</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20-%E6%A0%87%E7%AD%BEtag"><span class="nav-number">1.20.</span> <span class="nav-text">20. 标签tag</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21-%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF%E5%92%8C%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF"><span class="nav-number">1.21.</span> <span class="nav-text">21. 本地分支和远程分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22-git-fetch-amp-git-pull"><span class="nav-number">1.22.</span> <span class="nav-text">22. git fetch &amp; git pull</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#23-fetch-head"><span class="nav-number">1.23.</span> <span class="nav-text">23. fetch_head</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#24-git-pull"><span class="nav-number">1.24.</span> <span class="nav-text">24. git pull</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#25-%E6%9C%AC%E5%9C%B0git-hook"><span class="nav-number">1.25.</span> <span class="nav-text">25. 本地git hook</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#26-pre-commit%E9%92%A9%E5%AD%90"><span class="nav-number">1.26.</span> <span class="nav-text">26. pre-commit钩子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-git-hook%E5%92%8Cpython"><span class="nav-number">1.27.</span> <span class="nav-text">27. git hook和python</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="软糖豆人"
      src="/images/candy.png">
  <p class="site-author-name" itemprop="name">软糖豆人</p>
  <div class="site-description" itemprop="description">网站分享</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">43</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/xiongzhuozhuo" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xiongzhuozhuo"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:xiongzhuo@outlook.com" title="E-Mail → mailto:xiongzhuo@outlook.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.bilibili.com/video/BV1TA411q75f" title="https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1TA411q75f" rel="noopener" target="_blank">Git学习教程</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.bilibili.com/video/BV16W411t7mq?p=1" title="https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV16W411t7mq?p&#x3D;1" rel="noopener" target="_blank">Hexo搭建博客</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.kuangstudy.com/" title="https:&#x2F;&#x2F;www.kuangstudy.com" rel="noopener" target="_blank">Java学习教程</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/xiongzhuozhuo/xiongzhuozhuo.github.io/2021/09/17/Git%E5%8E%9F%E7%90%86%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/candy.png">
      <meta itemprop="name" content="软糖豆人">
      <meta itemprop="description" content="网站分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XiongZhuo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Git原理(01)
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-09-17 01:27:14 / 修改时间：10:50:09" itemprop="dateCreated datePublished" datetime="2021-09-17T01:27:14+08:00">2021-09-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2021/09/17/Git%E5%8E%9F%E7%90%86%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/#SOHUCS" itemprop="discussionUrl">
        <span id="changyan_count_unit" class="post-comments-count hc-comment-count" data-xid="2021/09/17/Git原理基本介绍/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>43k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>39 分钟</span>
    </span>
</div>

            <div class="post-description">Git</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <span id="more"></span>

<h2 id="Git原理基本介绍"><a href="#Git原理基本介绍" class="headerlink" title="Git原理基本介绍"></a>Git原理基本介绍</h2><h3 id="1-代码仓库的初始化"><a href="#1-代码仓库的初始化" class="headerlink" title="1.  代码仓库的初始化"></a>1.  代码仓库的初始化</h3><ol>
<li><p>新建文件夹作为本地仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy</span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir git-demo</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化本地代码仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy</span><br><span class="line"><span class="meta">$</span><span class="bash"> git init</span></span><br><span class="line">Initialized empty Git repository in C:/Files/gitStudy/.git/</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br></pre></td></tr></table></figure>

<p>初始化后会多出 .git的隐藏文件夹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -la</span></span><br><span class="line">total 16</span><br><span class="line">drwxr-xr-x 1 xiong 197609 0 Aug 21 10:10 ./</span><br><span class="line">drwxr-xr-x 1 xiong 197609 0 Aug 21 08:52 ../</span><br><span class="line">drwxr-xr-x 1 xiong 197609 0 Aug 21 10:10 .git/</span><br><span class="line">drwxr-xr-x 1 xiong 197609 0 Aug 21 08:55 git-demo/</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看.git文件夹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> find .git</span></span><br><span class="line">.git</span><br><span class="line">.git/config</span><br><span class="line">.git/description</span><br><span class="line">.git/HEAD</span><br><span class="line">.git/hooks</span><br><span class="line">.git/hooks/applypatch-msg.sample</span><br><span class="line">.git/hooks/commit-msg.sample</span><br><span class="line">.git/hooks/fsmonitor-watchman.sample</span><br><span class="line">.git/hooks/post-update.sample</span><br><span class="line">.git/hooks/pre-applypatch.sample</span><br><span class="line">.git/hooks/pre-commit.sample</span><br><span class="line">.git/hooks/pre-merge-commit.sample</span><br><span class="line">.git/hooks/pre-push.sample</span><br><span class="line">.git/hooks/pre-rebase.sample</span><br><span class="line">.git/hooks/pre-receive.sample</span><br><span class="line">.git/hooks/prepare-commit-msg.sample</span><br><span class="line">.git/hooks/push-to-checkout.sample</span><br><span class="line">.git/hooks/update.sample</span><br><span class="line">.git/info</span><br><span class="line">.git/info/exclude</span><br><span class="line">.git/objects</span><br><span class="line">.git/objects/info</span><br><span class="line">.git/objects/pack</span><br><span class="line">.git/refs</span><br><span class="line">.git/refs/heads</span><br><span class="line">.git/refs/tags</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>删除掉hooks目录下的.sample文件，便于查看</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> rm -rf .git/hooks/*.sample</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> find .git</span></span><br><span class="line">.git</span><br><span class="line">.git/config</span><br><span class="line">.git/description</span><br><span class="line">.git/HEAD</span><br><span class="line">.git/hooks</span><br><span class="line">.git/info</span><br><span class="line">.git/info/exclude</span><br><span class="line">.git/objects</span><br><span class="line">.git/objects/info</span><br><span class="line">.git/objects/pack</span><br><span class="line">.git/refs</span><br><span class="line">.git/refs/heads</span><br><span class="line">.git/refs/tags</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="1-1-查看config文件"><a href="#1-1-查看config文件" class="headerlink" title="1.1 查看config文件"></a>1.1 查看config文件</h4><p>config是配置的意思，那么git config命令就是对git进行一些配置。而配置一般都是写在配置文件里面,git里面一共有3个配置文件</p>
<h5 id="1-1-1-仓库级配置文件"><a href="#1-1-1-仓库级配置文件" class="headerlink" title="1.1.1 仓库级配置文件"></a>1.1.1 仓库级配置文件</h5><p><strong>方法1：</strong></p>
<p>找到该文件，直接打开：该文件位于当前仓库下，路径.git/，文件名为config</p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211044226.png" alt="image-20210821104413522"></p>
<p>这个配置中的设置只对当前所在仓库(C:/Files/gitStudy)有效，仓库级配置文件内容如下：</p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211037689.png" alt="image-20210821103756493"></p>
<p><strong>方法2：</strong></p>
<p>通过命令查看项目配置（仓库级配置）：<code>git config --local -l</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --<span class="built_in">local</span> -l</span></span><br><span class="line">core.repositoryformatversion=0</span><br><span class="line">core.filemode=false</span><br><span class="line">core.bare=false</span><br><span class="line">core.logallrefupdates=true</span><br><span class="line">core.symlinks=false</span><br><span class="line">core.ignorecase=true</span><br></pre></td></tr></table></figure>

<h5 id="1-1-2-全局级配置文件"><a href="#1-1-2-全局级配置文件" class="headerlink" title="1.1.2 全局级配置文件"></a>1.1.2 全局级配置文件</h5><p><strong>方法1：</strong></p>
<p>以win10个人的PC机为例，在用户目录下，其路径为：C:\Users\Administrator，文件名为 .gitconfig</p>
<p>全局级配置文件内容如下：</p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211043817.png" alt="image-20210821104308404"></p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211045927.png" alt="image-20210821104523114"></p>
<p><strong>方法2：</strong></p>
<p>通过命令查看全局级配置：<code>git config --global -l</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global -l</span></span><br><span class="line">user.name=xiongzhuo</span><br><span class="line">user.email=xiongzhuo@outlook.com</span><br><span class="line">core.autocrlf=true</span><br><span class="line">filter.lfs.clean=git-lfs clean -- %f</span><br><span class="line">filter.lfs.smudge=git-lfs smudge -- %f</span><br><span class="line">filter.lfs.process=git-lfs filter-process</span><br><span class="line">filter.lfs.required=true</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="1-1-3-系统级配置文件"><a href="#1-1-3-系统级配置文件" class="headerlink" title="1.1.3 系统级配置文件"></a>1.1.3 系统级配置文件</h5><p><strong>方法1：</strong></p>
<p>本地git的安装目录下，以我的git安装路径为例：C:\SoftWares\Git\etc，文件名为：gitconfig，内容如下：</p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211052280.png" alt="image-20210821105251795"></p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211053039.png" alt="image-20210821105332653"></p>
<p><strong>方法2：</strong></p>
<p>通过命令查看系统配置：git config –system -l</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --system -l</span></span><br><span class="line">diff.astextplain.textconv=astextplain</span><br><span class="line">filter.lfs.clean=git-lfs clean -- %f</span><br><span class="line">filter.lfs.smudge=git-lfs smudge -- %f</span><br><span class="line">filter.lfs.process=git-lfs filter-process</span><br><span class="line">filter.lfs.required=true</span><br><span class="line">http.sslbackend=openssl</span><br><span class="line">http.sslcainfo=C:/SoftWares/Git/mingw64/ssl/certs/ca-bundle.crt</span><br><span class="line">core.autocrlf=true</span><br><span class="line">core.fscache=true</span><br><span class="line">core.symlinks=false</span><br><span class="line">pull.rebase=false</span><br><span class="line">credential.helper=manager-core</span><br><span class="line">credential.https://dev.azure.com.usehttppath=true</span><br><span class="line">init.defaultbranch=master</span><br><span class="line">user.name=system</span><br><span class="line">user.email=system@email.com</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>对于git来说，配置文件的权重是仓库&gt;全局&gt;系统</strong></p>
<p><strong>查看当前生效的配置</strong></p>
<p>命令：<code>git config -l</code>，这个时候会显示最终三个配置文件计算后的配置信息，如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config -l</span></span><br><span class="line">diff.astextplain.textconv=astextplain</span><br><span class="line">filter.lfs.clean=git-lfs clean -- %f</span><br><span class="line">filter.lfs.smudge=git-lfs smudge -- %f</span><br><span class="line">filter.lfs.process=git-lfs filter-process</span><br><span class="line">filter.lfs.required=true</span><br><span class="line">http.sslbackend=openssl</span><br><span class="line">http.sslcainfo=C:/SoftWares/Git/mingw64/ssl/certs/ca-bundle.crt</span><br><span class="line">core.autocrlf=true</span><br><span class="line">core.fscache=true</span><br><span class="line">core.symlinks=false</span><br><span class="line">pull.rebase=false</span><br><span class="line">credential.helper=manager-core</span><br><span class="line">credential.https://dev.azure.com.usehttppath=true</span><br><span class="line">init.defaultbranch=master</span><br><span class="line">user.name=system</span><br><span class="line">user.email=system@email.com</span><br><span class="line">user.name=xiongzhuo</span><br><span class="line">user.email=xiongzhuo@outlook.com</span><br><span class="line">core.autocrlf=true</span><br><span class="line">filter.lfs.clean=git-lfs clean -- %f</span><br><span class="line">filter.lfs.smudge=git-lfs smudge -- %f</span><br><span class="line">filter.lfs.process=git-lfs filter-process</span><br><span class="line">filter.lfs.required=true</span><br><span class="line">core.repositoryformatversion=0</span><br><span class="line">core.filemode=false</span><br><span class="line">core.bare=false</span><br><span class="line">core.logallrefupdates=true</span><br><span class="line">core.symlinks=false</span><br><span class="line">core.ignorecase=true</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="1-2-使用git-config命令编辑配置文件"><a href="#1-2-使用git-config命令编辑配置文件" class="headerlink" title="1.2 使用git config命令编辑配置文件"></a>1.2 使用git config命令编辑配置文件</h4><p>编辑的英文单词是什么，没错，edit</p>
<p>命令参数 –edit, 简写 -e</p>
<p>格式：<code>git config [–local|–global|–system] -e</code></p>
<p>编辑仓库级的config，命令：git config –local -e，与–list参数不同的是，git config -e默认是编辑仓库级的配置文件。</p>
<p>编辑全局级的config，命令：git config –global -e</p>
<p>编辑系统级的config，命令：git config –system -e</p>
<p><strong>注：执行这个命令的时候，git会用配置文件中设定的编辑器打开配置文件。</strong></p>
<h4 id="1-3-使用git-config命令增加一个配置项"><a href="#1-3-使用git-config命令增加一个配置项" class="headerlink" title="1.3 使用git config命令增加一个配置项"></a>1.3 使用git config命令增加一个配置项</h4><p>参数 –add</p>
<p>格式: git config [-local|-global|-system] –add section.key value(默认是添加在local配置中)</p>
<p>注意add后面的section,key,value一项都不能少，否则添加失败。比如我们执行：</p>
<p><code>git config --add cat.name tom</code></p>
<p>注意增加一项配置而不赋值 git config -add cat.age，或者单单增加一个section,git config -add cat1，不会成功。然后查看local中的配置：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --add cat.name tom</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --<span class="built_in">local</span> -l</span></span><br><span class="line">core.repositoryformatversion=0</span><br><span class="line">core.filemode=false</span><br><span class="line">core.bare=false</span><br><span class="line">core.logallrefupdates=true</span><br><span class="line">core.symlinks=false</span><br><span class="line">core.ignorecase=true</span><br><span class="line">cat.name=tom</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>添加本地用户信息，用于提交时指向提交者</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --add user-name <span class="string">&quot;demo&quot;</span></span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --add user-email <span class="string">&quot;demo@demo.com&quot;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="1-4-使用git-config命令获取一个配置项"><a href="#1-4-使用git-config命令获取一个配置项" class="headerlink" title="1.4 使用git config命令获取一个配置项"></a>1.4 使用git config命令获取一个配置项</h4><p>有时候，我们并不需要查看所有配置的值，而是查看某个配置项的值，怎么做呢？</p>
<p>命令参数 -get</p>
<p>格式：<code>git config [-local|-global|-system] -get section.key</code>(默认是获取local配置中内容)</p>
<p>我们先往git配置中写入一个cat.name=tom的配置项，再使用git config -get cat.name看看得到的是什么</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --get cat.name</span></span><br><span class="line">tom</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --<span class="built_in">local</span> --get cat.name</span></span><br><span class="line">tom</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>结果就是local中的cat.name=tom，因此<strong>git config –get section.key</strong> 等价于</p>
<p><strong>git config –local –get section.key</strong></p>
<p><strong>如果获取一个section不存在的key值，不会返回任何值</strong></p>
<p><strong>如果获取一个不存在的section的key值，则会报错</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --<span class="built_in">local</span> --get cat.age</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --<span class="built_in">local</span> --get cattle</span></span><br><span class="line">error: key does not contain a section: cattle</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="1-5-使用git-config命令删除一个配置项"><a href="#1-5-使用git-config命令删除一个配置项" class="headerlink" title="1.5 使用git config命令删除一个配置项"></a>1.5 使用git config命令删除一个配置项</h4><p>命令参数 -unset</p>
<p>格式：<code>git config [-local|-global|-system] -unset section.key</code></p>
<p>相信有了前两个命令的使用基础，大家举一反三就知道改怎么用了，来，我们试试删除local配置中的cat.name</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --<span class="built_in">local</span> --<span class="built_in">unset</span> cat.name</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --<span class="built_in">local</span> -l</span></span><br><span class="line">core.repositoryformatversion=0</span><br><span class="line">core.filemode=false</span><br><span class="line">core.bare=false</span><br><span class="line">core.logallrefupdates=true</span><br><span class="line">core.symlinks=false</span><br><span class="line">core.ignorecase=true</span><br><span class="line">user.name=demo</span><br><span class="line">user.email=demo@demo.com</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-git-add背后发什么了什么"><a href="#2-git-add背后发什么了什么" class="headerlink" title="2. git add背后发什么了什么"></a>2. git add背后发什么了什么</h3><p>在当前工作区(C:/Files/GitStudy)新建文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;hello git&quot;</span>&gt;hello.txt</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat hello.txt</span></span><br><span class="line">hello git</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看此时git状态</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br><span class="line">        hello.txt</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span><br></pre></td></tr></table></figure>

<p>如果需要git帮我们管理hello.txt文件，则需将当前文件从工作区添加到缓冲区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add hello.txt</span></span><br><span class="line">warning: LF will be replaced by CRLF in hello.txt.</span><br><span class="line">The file will have its original line endings in your working directory</span><br></pre></td></tr></table></figure>

<p>为了方便观察，我们在window的cmd里使用tree命令(因为git bash不支持此命令，后续的文件树结构均是在windows里的cmd显示)查看.git当前的文件结构</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\gitStudy</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GITSTUDY\.GIT</span><br><span class="line">│  config</span><br><span class="line">│  description</span><br><span class="line">│  HEAD</span><br><span class="line">│  index         #新增文件</span><br><span class="line">│</span><br><span class="line">├─hooks</span><br><span class="line">├─info</span><br><span class="line">│      exclude</span><br><span class="line">│</span><br><span class="line">├─objects</span><br><span class="line">│  ├─8d       #新增目录</span><br><span class="line">│  │      0e41234f24b6da002d962a26c2495ea16a425f  #新增文件</span><br><span class="line">│  │</span><br><span class="line">│  ├─info</span><br><span class="line">│  └─pack</span><br><span class="line">└─refs</span><br><span class="line">    ├─heads</span><br><span class="line">    └─tags</span><br></pre></td></tr></table></figure>

<p>新增了 index文件，object文件夹下新增了8d文件夹，8d文件夹下新增了一串名为hash的objects文件，此处objects下新增的文件加以及文件，名字组合起来为一个SHA1值，这个值是由从工作区add到缓冲区的<u>文件内容和文件类型</u>进行哈希散列得到的（”blob %u\0” % len(date)）</p>
<h4 id="2-1-分析新增的objects对象"><a href="#2-1-分析新增的objects对象" class="headerlink" title="2.1 分析新增的objects对象"></a>2.1 分析新增的objects对象</h4><p>使用<code>git cat-file</code> 查看objects文件：<br>① -t SHA1值：查看该objects的类型(SHA1值一般去前6位就已足够。记得别忘了文件夹的那两位)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -t 8d0e41</span></span><br><span class="line">blob</span><br></pre></td></tr></table></figure>

<p>blob文件：只存储文件内容，不存储文件名</p>
<p>验证：新建一个tmp.txt文件，内容与hello.txt一致，执行git add进行添加后，查看.git文件目录结构</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\gitStudy</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GITSTUDY\.GIT</span><br><span class="line">│  config</span><br><span class="line">│  description</span><br><span class="line">│  HEAD</span><br><span class="line">│  index</span><br><span class="line">│</span><br><span class="line">├─hooks</span><br><span class="line">├─info</span><br><span class="line">│      exclude</span><br><span class="line">│</span><br><span class="line">├─objects</span><br><span class="line">│  ├─8d</span><br><span class="line">│  │      0e41234f24b6da002d962a26c2495ea16a425f</span><br><span class="line">│  │</span><br><span class="line">│  ├─info</span><br><span class="line">│  └─pack</span><br><span class="line">└─refs</span><br><span class="line">    ├─heads</span><br><span class="line">    └─tags</span><br></pre></td></tr></table></figure>

<p>发现文件目录没有任何改变</p>
<p>② -p SHA1值：查看该objects的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p 8d0e41</span></span><br><span class="line">hello git</span><br></pre></td></tr></table></figure>

<p>③ -s SHA1值：查看该objects对象的长度</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -s 8d0e</span></span><br><span class="line">10</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="3-blob对象和SHA1哈希"><a href="#3-blob对象和SHA1哈希" class="headerlink" title="3. blob对象和SHA1哈希"></a>3. blob对象和SHA1哈希</h3><h4 id="3-1-Hash算法"><a href="#3-1-Hash算法" class="headerlink" title="3.1 Hash算法"></a>3.1 Hash算法</h4><p>把任意长度的输入通过散列算法变换成固定长度的输出</p>
<ul>
<li>MD5           128bit</li>
<li>SHA1        160bit</li>
<li>SHA256    256bit</li>
<li>SHA512    512bit</li>
<li><a target="_blank" rel="noopener" href="https://1024tools.com/hash">Hash在线计算、md5计算、sha1计算、sha256计算、sha512计算 - 1024Tools</a></li>
</ul>
<h4 id="3-2-还原git生成SHA1的过程"><a href="#3-2-还原git生成SHA1的过程" class="headerlink" title="3.2 还原git生成SHA1的过程"></a>3.2 还原git生成SHA1的过程</h4><ol>
<li><p>查看要生成文件的大小</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -lh</span></span><br><span class="line">total 2.0K</span><br><span class="line">drwxr-xr-x 1 xiong 197609  0 Aug 21 08:55 git-demo/</span><br><span class="line">-rw-r--r-- 1 xiong 197609 10 Aug 21 11:43 hello.txt</span><br><span class="line">-rw-r--r-- 1 xiong 197609 10 Aug 21 12:15 tmp.txt</span><br></pre></td></tr></table></figure>

<p>此处选择计算 hello.txt 大小为10B</p>
</li>
<li><p>计算</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> -e <span class="string">&quot;blob 10\0hello git&quot;</span>|shasum</span></span><br><span class="line">8d0e41234f24b6da002d962a26c2495ea16a425f *-</span><br></pre></td></tr></table></figure>

<blockquote>
<p>对于echo<br>-e        enable interpretation of the following backslash escapes<br>启用以下反斜杠转义的解释</p>
</blockquote>
</li>
</ol>
<h4 id="3-3-了解git通过压缩对文件进行管理"><a href="#3-3-了解git通过压缩对文件进行管理" class="headerlink" title="3.3 了解git通过压缩对文件进行管理"></a>3.3 了解git通过压缩对文件进行管理</h4><p><strong>查看blob文件</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/objects/8d/0e41234f24b6da002d962a26c2495ea16a425f</span></span><br><span class="line">xK▒▒OR04`▒H▒▒▒WH▒,▒6A▒</span><br></pre></td></tr></table></figure>

<p>出现乱码的原因是：git在存储文件时对文件内容进行了压缩</p>
<p><strong>对比blob文件与原始文件</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -lh</span></span><br><span class="line">total 2.0K</span><br><span class="line">drwxr-xr-x 1 xiong 197609  0 Aug 21 08:55 git-demo/</span><br><span class="line">-rw-r--r-- 1 xiong 197609 10 Aug 21 11:43 hello.txt</span><br><span class="line">-rw-r--r-- 1 xiong 197609 10 Aug 21 12:15 tmp.txt</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/gitStudy (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls .git/objects/8d -lh</span></span><br><span class="line">total 1.0K</span><br><span class="line">-r--r--r-- 1 xiong 197609 26 Aug 21 12:15 0e41234f24b6da002d962a26c2495ea16a425f</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>blob文件大小为26B，原始文件大小为10B（因为源文件过小，导致压缩后的文件在包含压缩信息后反而增大，如果换为大文件，则能够看出明显效果）</p>
<h3 id="4-工作区和索引区"><a href="#4-工作区和索引区" class="headerlink" title="4. 工作区和索引区"></a>4. 工作区和索引区</h3><p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211529488.png" alt="image-20210821152947074"></p>
<p>Working directory：工作区</p>
<p>Staging Area(index)：索引区 —&gt;  文件内容存在blob里，文件名存储在index里</p>
<p><strong>初始化一个新的代码仓库进行实验</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> git init</span></span><br><span class="line">Initialized empty Git repository in C:/Files/git-demo/.git/</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;file1&quot;</span> &gt; file1.txt</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br><span class="line">        file1.txt</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add file1.txt</span></span><br><span class="line">warning: LF will be replaced by CRLF in file1.txt.</span><br><span class="line">The file will have its original line endings in your working directory</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>文件树</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GIT-DEMO\.GIT</span><br><span class="line">│  config</span><br><span class="line">│  description</span><br><span class="line">│  HEAD</span><br><span class="line">│  index</span><br><span class="line">│</span><br><span class="line">├─hooks</span><br><span class="line">│      applypatch-msg.sample</span><br><span class="line">│      commit-msg.sample</span><br><span class="line">│      fsmonitor-watchman.sample</span><br><span class="line">│      post-update.sample</span><br><span class="line">│      pre-applypatch.sample</span><br><span class="line">│      pre-commit.sample</span><br><span class="line">│      pre-merge-commit.sample</span><br><span class="line">│      pre-push.sample</span><br><span class="line">│      pre-rebase.sample</span><br><span class="line">│      pre-receive.sample</span><br><span class="line">│      prepare-commit-msg.sample</span><br><span class="line">│      push-to-checkout.sample</span><br><span class="line">│      update.sample</span><br><span class="line">│</span><br><span class="line">├─info</span><br><span class="line">│      exclude</span><br><span class="line">│</span><br><span class="line">├─objects</span><br><span class="line">│  ├─e2</span><br><span class="line">│  │      129701f1a4d54dc44f03c93bca0a2aec7c5449</span><br><span class="line">│  │</span><br><span class="line">│  ├─info</span><br><span class="line">│  └─pack</span><br><span class="line">└─refs</span><br><span class="line">    ├─heads</span><br><span class="line">    └─tags</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>列出当前在索引区里的内容</strong></p>
<p><code>git ls-files</code>：列出索引区里的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git ls-files</span></span><br><span class="line">file1.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>git ls-files -s</code>：列出索引区里文件的具体内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git ls-files -s</span></span><br><span class="line">100644 e2129701f1a4d54dc44f03c93bca0a2aec7c5449 0       file1.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>10064：标识权限<br>e2129701f1a4d54dc44f03c93bca0a2aec7c5449：blob对象</p>
<h4 id="4-1-新建file2-txt，不进行提交，查看当前状态"><a href="#4-1-新建file2-txt，不进行提交，查看当前状态" class="headerlink" title="4.1 新建file2.txt，不进行提交，查看当前状态"></a>4.1 新建file2.txt，不进行提交，查看当前状态</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;file2&quot;</span>&gt;file2.txt</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li><p>查看工作区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">file1.txt  file2.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看索引区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git ls-files</span></span><br><span class="line">file1.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看git状态</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span><br><span class="line">        new file:   file1.txt</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br><span class="line">        file2.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>**<u>Untracked files：</u>**文件的一种状态，在工作区新建的文件，但是没有添加到索引区</p>
</li>
</ol>
<h4 id="4-2-将file2-xtx添加到索引区后再进行查看"><a href="#4-2-将file2-xtx添加到索引区后再进行查看" class="headerlink" title="4.2 将file2.xtx添加到索引区后再进行查看"></a>4.2 将file2.xtx添加到索引区后再进行查看</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add file2.txt</span></span><br><span class="line">warning: LF will be replaced by CRLF in file2.txt.</span><br><span class="line">The file will have its original line endings in your working directory</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span><br><span class="line">        new file:   file1.txt</span><br><span class="line">        new file:   file2.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看当前objects目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git/objects /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GIT-DEMO\.GIT\OBJECTS</span><br><span class="line">├─6c</span><br><span class="line">│      493ff740f9380390d5c9ddef4af18697ac9375</span><br><span class="line">│</span><br><span class="line">├─e2</span><br><span class="line">│      129701f1a4d54dc44f03c93bca0a2aec7c5449</span><br><span class="line">│</span><br><span class="line">├─info</span><br><span class="line">└─pack</span><br></pre></td></tr></table></figure>

<p>查看索引区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> git ls-files -s</span></span><br><span class="line">100644 e2129701f1a4d54dc44f03c93bca0a2aec7c5449 0       file1.txt</span><br><span class="line">100644 6c493ff740f9380390d5c9ddef4af18697ac9375 0       file2.txt</span><br></pre></td></tr></table></figure>

<h4 id="4-3-修改file1-txt后再进行查看"><a href="#4-3-修改file1-txt后再进行查看" class="headerlink" title="4.3 修改file1.txt后再进行查看"></a>4.3 修改file1.txt后再进行查看</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> vim file1.txt</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

 <img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211345564.png" alt="image-20210821134530436" style="zoom:50%;" />

<p>在末尾添加一个”.”</p>
<ol>
<li><p>查看工作区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">file1.txt  file2.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>查看索引区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git ls-files</span></span><br><span class="line">file1.txt</span><br><span class="line">file2.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>查看git状态</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">No commits yet</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span><br><span class="line">        new file:   file1.txt</span><br><span class="line">        new file:   file2.txt</span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line">        modified:   file1.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><u>modified</u>：</strong>文件的另一种状态。索引区存在file1.txt，但是通过对比发现，此文件在工作区里的内容和在索引区里的内容不一致，判定此文件被修改了</p>
</li>
</ol>
<h4 id="4-4-将修改后的file1-txt进行提交"><a href="#4-4-将修改后的file1-txt进行提交" class="headerlink" title="4.4 将修改后的file1.txt进行提交"></a>4.4 将修改后的file1.txt进行提交</h4><ol>
<li><p>提交前索引区里的文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git ls-files -s</span></span><br><span class="line">100644 e2129701f1a4d54dc44f03c93bca0a2aec7c5449 0       file1.txt</span><br><span class="line">100644 6c493ff740f9380390d5c9ddef4af18697ac9375 0       file2.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>提交后索引区里的文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add file1.txt</span></span><br><span class="line">warning: LF will be replaced by CRLF in file1.txt.</span><br><span class="line">The file will have its original line endings in your working directory</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git ls-files -s</span></span><br><span class="line">100644 ca5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5 0       file1.txt</span><br><span class="line">100644 6c493ff740f9380390d5c9ddef4af18697ac9375 0       file2.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>​          对比前后发现此时的file1.txt文件的blob发生了变化</p>
<ol start="3">
<li><p>查看objects目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git/objects /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GIT-DEMO\.GIT\OBJECTS</span><br><span class="line">├─6c</span><br><span class="line">│      493ff740f9380390d5c9ddef4af18697ac9375</span><br><span class="line">│</span><br><span class="line">├─ca </span><br><span class="line">│      5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5 #file1.txt新</span><br><span class="line">│</span><br><span class="line">├─e2</span><br><span class="line">│      129701f1a4d54dc44f03c93bca0a2aec7c5449 #file1.txt旧</span><br><span class="line">│</span><br><span class="line">├─info</span><br><span class="line">└─pack</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="5-git-commit背后发什么了什么"><a href="#5-git-commit背后发什么了什么" class="headerlink" title="5. git commit背后发什么了什么"></a>5. git commit背后发什么了什么</h3><p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211530108.png" alt="image-20210821153025981"></p>
<h4 id="5-1-未进行commit文件的内容和状态"><a href="#5-1-未进行commit文件的内容和状态" class="headerlink" title="5.1 未进行commit文件的内容和状态"></a>5.1 未进行commit文件的内容和状态</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat file1.txt</span></span><br><span class="line">file1.</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat file2.txt</span></span><br><span class="line">file2</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p ca5a</span></span><br><span class="line">file1.</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p 6c49</span></span><br><span class="line">file2</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git ls-files -s</span></span><br><span class="line">100644 ca5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5 0       file1.txt</span><br><span class="line">100644 6c493ff740f9380390d5c9ddef4af18697ac9375 0       file2.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>此时工作区和索引区状态一致</p>
<h4 id="5-2-commit一次后各文件的状态"><a href="#5-2-commit一次后各文件的状态" class="headerlink" title="5.2 commit一次后各文件的状态"></a>5.2 commit一次后各文件的状态</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">&quot;1st commit&quot;</span></span></span><br><span class="line">[master (root-commit) 8a44e8c] 1st commit</span><br><span class="line"> 2 files changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 file1.txt</span><br><span class="line"> create mode 100644 file2.txt</span><br></pre></td></tr></table></figure>

<h5 id="5-2-1-objects中新增文件"><a href="#5-2-1-objects中新增文件" class="headerlink" title="5.2.1 objects中新增文件"></a>5.2.1 objects中新增文件</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git/objects /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GIT-DEMO\.GIT\OBJECTS</span><br><span class="line">├─29</span><br><span class="line">│      d3f358addb2b6e16ebfb981716fa75cc562ee7 #新增tree</span><br><span class="line">│</span><br><span class="line">├─6c</span><br><span class="line">│      493ff740f9380390d5c9ddef4af18697ac9375</span><br><span class="line">│</span><br><span class="line">├─8a</span><br><span class="line">│      44e8c0e81d4766b22777a61f3233d8b14497cc #新增commit</span><br><span class="line">│</span><br><span class="line">├─ca</span><br><span class="line">│      5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5</span><br><span class="line">│</span><br><span class="line">├─e2</span><br><span class="line">│      129701f1a4d54dc44f03c93bca0a2aec7c5449</span><br><span class="line">│</span><br><span class="line">├─info</span><br><span class="line">└─pack</span><br></pre></td></tr></table></figure>

<p>根据commit生成的SHA1，查看新增文件</p>
<ol>
<li><p>查看文件类型</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -t 8a44</span></span><br><span class="line">commit</span><br></pre></td></tr></table></figure>

<p>文件为commit类型</p>
</li>
<li><p>查看文件内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p 8a44</span></span><br><span class="line">tree 29d3f358addb2b6e16ebfb981716fa75cc562ee7</span><br><span class="line">author xiongzhuo &lt;xiongzhuo@outlook.com&gt; 1629531426 +0800</span><br><span class="line">committer xiongzhuo &lt;xiongzhuo@outlook.com&gt; 1629531426 +0800</span><br><span class="line"></span><br><span class="line">1st commit</span><br></pre></td></tr></table></figure>

<p>包含了一个tree对象和提交者的信息，以及提交时的备注</p>
<ol>
<li><p>查看commit文件里tree的类型</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -t 29d3f</span></span><br><span class="line">tree</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>查看commit文件里tree的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p 29d3f</span></span><br><span class="line">100644 blob ca5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5    file1.txt</span><br><span class="line">100644 blob 6c493ff740f9380390d5c9ddef4af18697ac9375    file2.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>tree里记录了当前提交的内容</p>
</li>
</ol>
</li>
</ol>
<h5 id="5-2-2-refs中新增文件"><a href="#5-2-2-refs中新增文件" class="headerlink" title="5.2.2 refs中新增文件"></a>5.2.2 refs中新增文件</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git/refs /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GIT-DEMO\.GIT\REFS</span><br><span class="line">├─heads</span><br><span class="line">│      master  #新增</span><br><span class="line">│</span><br><span class="line">└─tags</span><br></pre></td></tr></table></figure>

<p>查看新增文件内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/refs/heads/master</span></span><br><span class="line">8a44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>master里存着最近一次commit的SHA1值</p>
<p>关联：查看.git里的HEAD文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/HEAD</span></span><br><span class="line">ref: refs/heads/master</span><br></pre></td></tr></table></figure>

<p>HEAD指向当前工作的分支</p>
<h5 id="5-2-3-commit一次后代码仓库的状态"><a href="#5-2-3-commit一次后代码仓库的状态" class="headerlink" title="5.2.3 commit一次后代码仓库的状态"></a>5.2.3 commit一次后代码仓库的状态</h5><p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211601796.png" alt="image-20210821160109435"></p>
<h4 id="5-3-commit二次后各文件的状态"><a href="#5-3-commit二次后各文件的状态" class="headerlink" title="5.3 commit二次后各文件的状态"></a>5.3 commit二次后各文件的状态</h4><p>修改file2.txt里的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> vim file2.txt</span></span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211720671.png" alt="image-20210821160520509" style="zoom:50%;" /> 

<p>在末尾添加”.”</p>
<p><strong>查看当前git status状态</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span><br><span class="line">  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)</span><br><span class="line">        modified:   file2.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>跟踪到了被修改的file2.txt</p>
<ol>
<li><p>将修改后的文件添加到索引区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add file2.txt</span></span><br><span class="line">warning: LF will be replaced by CRLF in file2.txt.</span><br><span class="line">The file will have its original line endings in your working directory</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>查看objects中的文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git/objects /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GIT-DEMO\.GIT\OBJECTS</span><br><span class="line">├─29</span><br><span class="line">│      d3f358addb2b6e16ebfb981716fa75cc562ee7</span><br><span class="line">│</span><br><span class="line">├─6c</span><br><span class="line">│      493ff740f9380390d5c9ddef4af18697ac9375 </span><br><span class="line">│</span><br><span class="line">├─8a</span><br><span class="line">│      44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">│</span><br><span class="line">├─98</span><br><span class="line">│      87c1a1fdc70e53d47d73b5764a65c889704ef3 #新增blob</span><br><span class="line">│</span><br><span class="line">├─ca</span><br><span class="line">│      5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5</span><br><span class="line">│</span><br><span class="line">├─e2</span><br><span class="line">│      129701f1a4d54dc44f03c93bca0a2aec7c5449</span><br><span class="line">│</span><br><span class="line">├─info</span><br><span class="line">└─pack</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看当前索引区中文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git ls-files -s</span></span><br><span class="line">100644 ca5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5 0       file1.txt</span><br><span class="line">100644 9887c1a1fdc70e53d47d73b5764a65c889704ef3 0       file2.txt</span><br></pre></td></tr></table></figure>

<p>file2.txt的blob对象更新</p>
</li>
</ol>
<p><strong>将更新进行提交</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">&quot;2nd commit&quot;</span></span></span><br><span class="line">[master 1928061] 2nd commit</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看当前objects中的文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git/objects /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GIT-DEMO\.GIT\OBJECTS</span><br><span class="line">├─19</span><br><span class="line">│      28061d327bfa64a0a6ce3f4faa029b8c1ce776 #新增commit</span><br><span class="line">│</span><br><span class="line">├─29</span><br><span class="line">│      d3f358addb2b6e16ebfb981716fa75cc562ee7</span><br><span class="line">│</span><br><span class="line">├─6c</span><br><span class="line">│      493ff740f9380390d5c9ddef4af18697ac9375</span><br><span class="line">│</span><br><span class="line">├─87</span><br><span class="line">│      6af0020e37f45ec09c802d96d7120b2302075f #新增tree</span><br><span class="line">│</span><br><span class="line">├─8a</span><br><span class="line">│      44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">│</span><br><span class="line">├─98</span><br><span class="line">│      87c1a1fdc70e53d47d73b5764a65c889704ef3</span><br><span class="line">│</span><br><span class="line">├─ca</span><br><span class="line">│      5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5</span><br><span class="line">│</span><br><span class="line">├─e2</span><br><span class="line">│      129701f1a4d54dc44f03c93bca0a2aec7c5449</span><br><span class="line">│</span><br><span class="line">├─info</span><br><span class="line">└─pack</span><br></pre></td></tr></table></figure>

<ol>
<li><p>查看当前commit对象中的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p 192806</span></span><br><span class="line">tree 876af0020e37f45ec09c802d96d7120b2302075f</span><br><span class="line">parent 8a44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">author xiongzhuo &lt;xiongzhuo@outlook.com&gt; 1629533646 +0800</span><br><span class="line">committer xiongzhuo &lt;xiongzhuo@outlook.com&gt; 1629533646 +0800</span><br><span class="line"></span><br><span class="line">2nd commit</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>parent指向的是上一个commit</p>
<ol>
<li><p>查看当前commit中tree的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p 876af0</span></span><br><span class="line">100644 blob ca5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5    file1.txt</span><br><span class="line">100644 blob 9887c1a1fdc70e53d47d73b5764a65c889704ef3    file2.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>file2.txt的blob进行了更新</p>
</li>
</ol>
</li>
</ol>
<h5 id="5-3-3-commit二次后代码仓库的状态"><a href="#5-3-3-commit二次后代码仓库的状态" class="headerlink" title="5.3.3 commit二次后代码仓库的状态"></a>5.3.3 commit二次后代码仓库的状态</h5><p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211649503.png" alt="image-20210821164921086"></p>
<h4 id="5-4-commit文件夹"><a href="#5-4-commit文件夹" class="headerlink" title="5.4 commit文件夹"></a>5.4 commit文件夹</h4><p>新建文件夹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir folder1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>

<p>对于空文件夹，git不算任何改变</p>
<p>进入到新文件夹里，新建文件后git能够将其识别</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> folder1/</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo/folder1 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;file3.&quot;</span>&gt;file3.txt</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo/folder1 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Untracked files:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br><span class="line">        ./</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo/folder1 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ..</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Untracked files:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br><span class="line">        folder1/</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span><br></pre></td></tr></table></figure>

<p>将未跟踪的文件添加到索引区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add folder1/</span></span><br><span class="line">warning: LF will be replaced by CRLF in folder1/file3.txt.</span><br><span class="line">The file will have its original line endings in your working directory</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看索引区内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git ls-files -s</span></span><br><span class="line">100644 ca5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5 0       file1.txt</span><br><span class="line">100644 9887c1a1fdc70e53d47d73b5764a65c889704ef3 0       file2.txt</span><br><span class="line">100644 89a53edddc5f8fbc09bc500a2a807750e9673c08 0       folder1/file3.txt</span><br></pre></td></tr></table></figure>

<p>查看objects文件夹里的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git/objects /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GIT-DEMO\.GIT\OBJECTS</span><br><span class="line">├─19</span><br><span class="line">│      28061d327bfa64a0a6ce3f4faa029b8c1ce776</span><br><span class="line">│</span><br><span class="line">├─29</span><br><span class="line">│      d3f358addb2b6e16ebfb981716fa75cc562ee7</span><br><span class="line">│</span><br><span class="line">├─6c</span><br><span class="line">│      493ff740f9380390d5c9ddef4af18697ac9375</span><br><span class="line">│</span><br><span class="line">├─87</span><br><span class="line">│      6af0020e37f45ec09c802d96d7120b2302075f</span><br><span class="line">│</span><br><span class="line">├─89</span><br><span class="line">│      a53edddc5f8fbc09bc500a2a807750e9673c08 #新增</span><br><span class="line">│</span><br><span class="line">├─8a</span><br><span class="line">│      44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">│</span><br><span class="line">├─98</span><br><span class="line">│      87c1a1fdc70e53d47d73b5764a65c889704ef3</span><br><span class="line">│</span><br><span class="line">├─ca</span><br><span class="line">│      5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5</span><br><span class="line">│</span><br><span class="line">├─e2</span><br><span class="line">│      129701f1a4d54dc44f03c93bca0a2aec7c5449</span><br><span class="line">│</span><br><span class="line">├─info</span><br><span class="line">└─pack</span><br></pre></td></tr></table></figure>

<p><strong>commit更新的内容</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">&quot;3rd commit&quot;</span></span></span><br><span class="line">[master a1431ae] 3rd commit</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 folder1/file3.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看objects文件的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git/objects /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GIT-DEMO\.GIT\OBJECTS</span><br><span class="line">├─19</span><br><span class="line">│      28061d327bfa64a0a6ce3f4faa029b8c1ce776</span><br><span class="line">│</span><br><span class="line">├─29</span><br><span class="line">│      d3f358addb2b6e16ebfb981716fa75cc562ee7</span><br><span class="line">│</span><br><span class="line">├─46</span><br><span class="line">│      fcafbbc3e0ba215d6b9924a20a0cb3b107423f #新增tree</span><br><span class="line">│</span><br><span class="line">├─6c</span><br><span class="line">│      493ff740f9380390d5c9ddef4af18697ac9375</span><br><span class="line">│</span><br><span class="line">├─87</span><br><span class="line">│      6af0020e37f45ec09c802d96d7120b2302075f</span><br><span class="line">│</span><br><span class="line">├─89</span><br><span class="line">│      a53edddc5f8fbc09bc500a2a807750e9673c08</span><br><span class="line">│</span><br><span class="line">├─8a</span><br><span class="line">│      44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">│</span><br><span class="line">├─98</span><br><span class="line">│      87c1a1fdc70e53d47d73b5764a65c889704ef3</span><br><span class="line">│</span><br><span class="line">├─a1</span><br><span class="line">│      431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b #新增commit</span><br><span class="line">│</span><br><span class="line">├─ca</span><br><span class="line">│      5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5</span><br><span class="line">│</span><br><span class="line">├─e2</span><br><span class="line">│      129701f1a4d54dc44f03c93bca0a2aec7c5449</span><br><span class="line">│</span><br><span class="line">├─e3</span><br><span class="line">│      cfebfb440e2af91732e71deda277030d7182e9</span><br><span class="line">│</span><br><span class="line">├─info</span><br><span class="line">└─pack</span><br></pre></td></tr></table></figure>

<ol>
<li><p>查看commit内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p a1431a</span></span><br><span class="line">tree 46fcafbbc3e0ba215d6b9924a20a0cb3b107423f</span><br><span class="line">parent 1928061d327bfa64a0a6ce3f4faa029b8c1ce776</span><br><span class="line">author xiongzhuo &lt;xiongzhuo@outlook.com&gt; 1629537005 +0800</span><br><span class="line">committer xiongzhuo &lt;xiongzhuo@outlook.com&gt; 1629537005 +0800</span><br><span class="line"></span><br><span class="line">3rd commit</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li><p>查看commit里tree对象内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p 46fcaf</span></span><br><span class="line">100644 blob ca5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5    file1.txt</span><br><span class="line">100644 blob 9887c1a1fdc70e53d47d73b5764a65c889704ef3    file2.txt</span><br><span class="line">040000 tree e3cfebfb440e2af91732e71deda277030d7182e9    folder1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>当前tree包含另一个与文件夹同名的tree</p>
<p>查看commit里tree对象里tree对象的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p e3cfeb</span></span><br><span class="line">100644 blob 89a53edddc5f8fbc09bc500a2a807750e9673c08    file3.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>当前tree里包含了file3.txt的blob对象</p>
</li>
</ol>
</li>
</ol>
<h5 id="5-4-1-commit文件夹后代码仓库的状态"><a href="#5-4-1-commit文件夹后代码仓库的状态" class="headerlink" title="5.4.1 commit文件夹后代码仓库的状态"></a>5.4.1 commit文件夹后代码仓库的状态</h5><p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211720314.png" alt="image-20210821172012808"></p>
<h3 id="6-文件的状态"><a href="#6-文件的状态" class="headerlink" title="6. 文件的状态"></a>6. 文件的状态</h3><p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211725016.png" alt="image-20210821172521600"></p>
<h3 id="7-Branch和HEAD"><a href="#7-Branch和HEAD" class="headerlink" title="7. Branch和HEAD"></a>7. Branch和HEAD</h3><p>Branch：分支，被命名为指针去指向commits</p>
<p>HEAD：是一个特殊的指针，指向当前工作的分支，且总是指向最近一次提交</p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108211733729.png" alt="image-20210821173328944"></p>
<p>  <strong>验证</strong></p>
<ol>
<li><p>查看HEAD文件的内容：指向refs/heads/master</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/HEAD</span></span><br><span class="line">ref: refs/heads/master</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看master内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/refs/heads/master</span></span><br><span class="line">a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看master内容所指文件的类型</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -t a1431a</span></span><br><span class="line">commit</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看提交历史：HEAD指向master分支，且指向最新一次提交</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b (HEAD -&gt; master)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 17:10:05 2021 +0800</span><br><span class="line"></span><br><span class="line">    3rd commit</span><br><span class="line"></span><br><span class="line">commit 1928061d327bfa64a0a6ce3f4faa029b8c1ce776</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 16:14:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    2nd commit</span><br><span class="line"></span><br><span class="line">commit 8a44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 15:37:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="7-1-Branch的创建和使用"><a href="#7-1-Branch的创建和使用" class="headerlink" title="7.1 Branch的创建和使用"></a>7.1 Branch的创建和使用</h4><ul>
<li>git branch：列举出拥有的分支</li>
<li>git branch <branch_name>：以branch_name为名创建分支，如果已有同名分支，则返回失败</li>
<li>git branch -D <branch_name>：删除分支，不能删除当前工作的分支或不存在的分支</li>
<li>git checkout：更改当前的工作分支</li>
</ul>
<h5 id="7-1-1-查看分支"><a href="#7-1-1-查看分支" class="headerlink" title="7.1.1 查看分支"></a>7.1.1 查看分支</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br></pre></td></tr></table></figure>

<p>*master：表示当前所在分支是master</p>
<h5 id="7-1-2-创建分支"><a href="#7-1-2-创建分支" class="headerlink" title="7.1.2 创建分支"></a>7.1.2 创建分支</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch dev</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">  dev</span><br><span class="line">* master</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看提交历史</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b (HEAD -&gt; master, dev)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 17:10:05 2021 +0800</span><br><span class="line"></span><br><span class="line">    3rd commit</span><br><span class="line"></span><br><span class="line">commit 1928061d327bfa64a0a6ce3f4faa029b8c1ce776</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 16:14:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    2nd commit</span><br><span class="line"></span><br><span class="line">commit 8a44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 15:37:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>HEAD -&gt; master, dev：HEAD当前指向的是master，而此时新建的分支dev恰好指向的也是a1431a这次提交，所以显示成这样</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/refs/heads/dev</span></span><br><span class="line">a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/refs/heads/master</span></span><br><span class="line">a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/HEAD</span></span><br><span class="line">ref: refs/heads/master</span><br></pre></td></tr></table></figure>



<p>分支存在.git/refs/heads/目录下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls .git/refs/heads</span></span><br><span class="line">dev  master</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="7-1-3-切换分支"><a href="#7-1-3-切换分支" class="headerlink" title="7.1.3 切换分支"></a>7.1.3 切换分支</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout dev</span></span><br><span class="line">Switched to branch &#x27;dev&#x27;</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* dev</span><br><span class="line">  master</span><br><span class="line">  </span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/HEAD</span></span><br><span class="line">ref: refs/heads/dev</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b (HEAD -&gt; dev, master)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 17:10:05 2021 +0800</span><br><span class="line"></span><br><span class="line">    3rd commit</span><br><span class="line"></span><br><span class="line">commit 1928061d327bfa64a0a6ce3f4faa029b8c1ce776</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 16:14:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    2nd commit</span><br><span class="line"></span><br><span class="line">commit 8a44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 15:37:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li><p>切换分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout dev</span></span><br><span class="line">Switched to branch &#x27;dev&#x27;</span><br></pre></td></tr></table></figure>

<p><strong>当前所处分支</strong></p>
<ol>
<li><p>查看当前所处分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* dev</span><br><span class="line">  master</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看HEAD指向</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/HEAD</span></span><br><span class="line">ref: refs/heads/dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看提交记录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b (HEAD -&gt; dev, master)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 17:10:05 2021 +0800</span><br><span class="line"></span><br><span class="line">    3rd commit</span><br><span class="line"></span><br><span class="line">commit 1928061d327bfa64a0a6ce3f4faa029b8c1ce776</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 16:14:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    2nd commit</span><br><span class="line"></span><br><span class="line">commit 8a44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 15:37:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>在dev分支上进行操作</p>
<ol>
<li><p>新建文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;dev&quot;</span> &gt; dev.txt</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">dev.txt  file1.txt  file2.txt  folder1/</span><br></pre></td></tr></table></figure>
</li>
<li><p>将工作区的文件添加到索引区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add dev.txt</span></span><br><span class="line">warning: LF will be replaced by CRLF in dev.txt.</span><br><span class="line">The file will have its original line endings in your working directory</span><br></pre></td></tr></table></figure>
</li>
<li><p>提交文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">&quot;1st commit from dev branch&quot;</span></span></span><br><span class="line">[dev 939dc9f] 1st commit from dev branch</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 dev.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看提交记录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit 939dc9f4fbb92d5bdcff9952f6de1f432fed1b3a (HEAD -&gt; dev)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 20:34:48 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit from dev branch</span><br><span class="line"></span><br><span class="line">commit a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b (master)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 17:10:05 2021 +0800</span><br><span class="line"></span><br><span class="line">    3rd commit</span><br><span class="line"></span><br><span class="line">commit 1928061d327bfa64a0a6ce3f4faa029b8c1ce776</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 16:14:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    2nd commit</span><br><span class="line"></span><br><span class="line">commit 8a44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 15:37:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h5 id="7-1-4-删除分支"><a href="#7-1-4-删除分支" class="headerlink" title="7.1.4 删除分支"></a>7.1.4 删除分支</h5><p>删除失败情况：不能删除当前分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch --delete dev</span></span><br><span class="line">error: Cannot delete branch &#x27;dev&#x27; checked out at &#x27;C:/Files/git-demo&#x27;</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -D dev</span></span><br><span class="line">error: Cannot delete branch &#x27;dev&#x27; checked out at &#x27;C:/Files/git-demo&#x27;</span><br></pre></td></tr></table></figure>

<ol>
<li><p>git branch –delete dev</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch --delete dev</span></span><br><span class="line">error: The branch &#x27;dev&#x27; is not fully merged.</span><br><span class="line">If you are sure you want to delete it, run &#x27;git branch -D dev&#x27;.</span><br></pre></td></tr></table></figure>

<p>在使用–delete (-d)删除时，系统会有提示消息，删除分支时建议使用-d</p>
</li>
<li><p>git brnach -D dev</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -D dev</span></span><br><span class="line">Deleted branch dev (was 939dc9f).</span><br></pre></td></tr></table></figure>

<p>删除分支后，该分支上的文件还存在</p>
<ol>
<li><p>查看939dc9f</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -t 939dc9f</span></span><br><span class="line">commit</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看该文件内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p 939dc9f</span></span><br><span class="line">tree b48a27332ca027db625a0601ab1c6957fe4f5cc8</span><br><span class="line">parent a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b</span><br><span class="line">author xiongzhuo &lt;xiongzhuo@outlook.com&gt; 1629549288 +0800</span><br><span class="line">committer xiongzhuo &lt;xiongzhuo@outlook.com&gt; 1629549288 +0800</span><br><span class="line"></span><br><span class="line">1st commit from dev branch</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>查看文件中tree的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p b48a27</span></span><br><span class="line">100644 blob 38f8e886e1a6d733aa9bfa7282568f83c133ecd6    dev.txt</span><br><span class="line">100644 blob ca5a43e53e012b6fd3b2a8a06ebb6c2ee24a24e5    file1.txt</span><br><span class="line">100644 blob 9887c1a1fdc70e53d47d73b5764a65c889704ef3    file2.txt</span><br><span class="line">040000 tree e3cfebfb440e2af91732e71deda277030d7182e9    folder1</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看dev.txt的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -p 38f8e8</span></span><br><span class="line">dev</span><br></pre></td></tr></table></figure>

<p>通过此四步操作，任然能查看到被删除分支上的内容。这样遗留下来的对象为<u>垃圾对象</u></p>
</li>
</ol>
</li>
</ol>
<p>在git 进行的删除，它实际上只是删除了指向某个commit的指针，这个commit没有被删除</p>
<h3 id="8-checkout特定的commit"><a href="#8-checkout特定的commit" class="headerlink" title="8. checkout特定的commit"></a>8. checkout特定的commit</h3><p>可以通过chekout切换到特定的commit上</p>
<ol>
<li><p>查看commit历史，切换到指定分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b (HEAD -&gt; master)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 17:10:05 2021 +0800</span><br><span class="line"></span><br><span class="line">    3rd commit</span><br><span class="line"></span><br><span class="line">commit 1928061d327bfa64a0a6ce3f4faa029b8c1ce776</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 16:14:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    2nd commit</span><br><span class="line"></span><br><span class="line">commit 8a44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 15:37:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout 192806</span></span><br><span class="line">Note: switching to &#x27;192806&#x27;.</span><br><span class="line"></span><br><span class="line">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line">state without impacting any branches by switching back to a branch.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line">do so (now or later) by using -c with the switch command. Example:</span><br><span class="line"></span><br><span class="line">  git switch -c &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">Or undo this operation with:</span><br><span class="line"></span><br><span class="line">  git switch -</span><br><span class="line"></span><br><span class="line">Turn off this advice by setting config variable advice.detachedHead to false</span><br><span class="line"></span><br><span class="line">HEAD is now at 1928061 2nd commit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo ((1928061...))</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit 1928061d327bfa64a0a6ce3f4faa029b8c1ce776 (HEAD)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 16:14:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    2nd commit</span><br><span class="line"></span><br><span class="line">commit 8a44e8c0e81d4766b22777a61f3233d8b14497cc</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 15:37:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108212109934.png" alt="image-20210821210922721"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo ((1928061...))</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout 8a44e8</span></span><br><span class="line">Previous HEAD position was 1928061 2nd commit</span><br><span class="line">HEAD is now at 8a44e8c 1st commit</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo ((8a44e8c...))</span><br><span class="line"><span class="meta">$</span></span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108212110666.png" alt="image-20210821211021284"></p>
<ol>
<li><p>可以通过 <code>git checkout -b 分支名</code>在当前commit创建分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo ((8a44e8c...))</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b tmp</span></span><br><span class="line">Switched to a new branch &#x27;tmp&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (tmp)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit 8a44e8c0e81d4766b22777a61f3233d8b14497cc (HEAD -&gt; tmp)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 15:37:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit</span><br><span class="line">    </span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (tmp)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/HEAD</span></span><br><span class="line">ref: refs/heads/tmp</span><br></pre></td></tr></table></figure>

<p>通过git log发现当前指向并未变，只是分支名发生了变化</p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108212118104.png" alt="image-20210821211857803"></p>
</li>
</ol>
</li>
</ol>
<h5 id="8-1-使用场景"><a href="#8-1-使用场景" class="headerlink" title="8.1 使用场景"></a>8.1 使用场景</h5><p>分支在未合并时就被删除，可以通过checkout + git reflog进行恢复</p>
<blockquote>
<p><code>git log</code>是显示当前的<code>HEAD</code>和它的祖先的，递归是沿着当前指针的父亲，父亲的父亲，……，这样的原则。<br><code>git reflog</code>根本不遍历<code>HEAD</code>的祖先。它是<code>HEAD</code>所指向的一个顺序的提交列表：它的<code>undo</code>历史。<code>reflog</code>并不是<code>repo</code>（仓库）的一部分，它单独存储，而且不包含在<code>pushes</code>，<code>fetches</code>或者<code>clones</code>里面，它纯属是本地的。<br><code>reflog</code>可以很好地帮助你恢复你误操作的数据，例如你错误地<code>reset</code>了一个旧的提交，或者<code>rebase</code>，……，这个时候你可以使用<code>reflog</code>去查看在误操作之前的信息，并且使用<code>git reset --hard</code> 去恢复之前的状态。</p>
</blockquote>
<p>以之前删除的dev分支为例</p>
<ol>
<li><p>切换到master分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (tmp)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout master</span></span><br><span class="line">Switched to branch &#x27;master&#x27;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>git reflog</code>查看HEAD所指向的顺序提交的列表</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git reflog</span></span><br><span class="line">a1431ae (HEAD -&gt; master) HEAD@&#123;0&#125;: checkout: moving from tmp to master</span><br><span class="line">8a44e8c (tmp) HEAD@&#123;1&#125;: checkout: moving from 8a44e8c0e81d4766b22777a61f3233d8b14497cc to tmp</span><br><span class="line">8a44e8c (tmp) HEAD@&#123;2&#125;: checkout: moving from 1928061d327bfa64a0a6ce3f4faa029b8c1ce776 to 8a44e8</span><br><span class="line">1928061 HEAD@&#123;3&#125;: checkout: moving from master to 192806</span><br><span class="line">a1431ae (HEAD -&gt; master) HEAD@&#123;4&#125;: checkout: moving from dev to master</span><br><span class="line">939dc9f HEAD@&#123;5&#125;: commit: 1st commit from dev branch</span><br><span class="line">a1431ae (HEAD -&gt; master) HEAD@&#123;6&#125;: checkout: moving from master to dev</span><br><span class="line">a1431ae (HEAD -&gt; master) HEAD@&#123;7&#125;: commit: 3rd commit</span><br><span class="line">1928061 HEAD@&#123;8&#125;: commit: 2nd commit</span><br><span class="line">8a44e8c (tmp) HEAD@&#123;9&#125;: commit (initial): 1st commit</span><br></pre></td></tr></table></figure>

<p>找到<code>939dc9f HEAD@&#123;5&#125;: commit: 1st commit from dev branch</code></p>
</li>
<li><p>使用checkout 切换到所找到的commit，进入到<code>&#39;detached HEAD&#39;</code>模式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout 939dc9f</span></span><br><span class="line">Note: switching to &#x27;939dc9f&#x27;.</span><br><span class="line"></span><br><span class="line">You are in &#x27;detached HEAD&#x27; state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line">state without impacting any branches by switching back to a branch.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line">do so (now or later) by using -c with the switch command. Example:</span><br><span class="line"></span><br><span class="line">  git switch -c &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">Or undo this operation with:</span><br><span class="line"></span><br><span class="line">  git switch -</span><br><span class="line"></span><br><span class="line">Turn off this advice by setting config variable advice.detachedHead to false</span><br><span class="line"></span><br><span class="line">HEAD is now at 939dc9f 1st commit from dev branch</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo ((939dc9f...))</span><br><span class="line"><span class="meta">$</span><span class="bash"> ls</span></span><br><span class="line">dev.txt  file1.txt  file2.txt  folder1/</span><br></pre></td></tr></table></figure>

<p>切换到该commit以后，dev.txt文件再次出现</p>
</li>
<li><p>在此处建立新的分支进行切换, <code>git switch -c &lt;new-branch-name&gt;</code>是新版提供的命令，在此处用<code>git checkout -b dev</code>与之等效</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo ((939dc9f...))</span><br><span class="line"><span class="meta">$</span><span class="bash"> git switch -c dev</span></span><br><span class="line">Switched to a new branch &#x27;dev&#x27;</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit 939dc9f4fbb92d5bdcff9952f6de1f432fed1b3a (HEAD -&gt; dev)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 20:34:48 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit from dev branch</span><br><span class="line"></span><br><span class="line">commit a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b (master)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 17:10:05 2021 +0800</span><br><span class="line"></span><br><span class="line">    3rd commit</span><br><span class="line"></span><br><span class="line">commit 1928061d327bfa64a0a6ce3f4faa029b8c1ce776</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 16:14:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    2nd commit</span><br><span class="line"></span><br><span class="line">commit 8a44e8c0e81d4766b22777a61f3233d8b14497cc (tmp)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 15:37:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit</span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="9-git-diff命令"><a href="#9-git-diff命令" class="headerlink" title="9. git diff命令"></a>9. git diff命令</h3><p>用来比较文件间的区别</p>
<p>新建测试文件README.txt，将其从工作区添加到索引区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch dev</span><br><span class="line">Untracked files:</span><br><span class="line">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span><br><span class="line">        README.txt</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add README.txt</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li><p>修改工作区中的README.txt，比较工作区与索引区README.txt的区别</p>
<p>①使用Sublime Merge工具可以检测到文件被修改了，绿色为修改部分</p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221101784.png" alt="image-20210822110107633"></p>
<p>②使用<code>git diff</code>命令进行查询</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff</span></span><br><span class="line">diff --git a/README.txt b/README.txt</span><br><span class="line">index eac2114..ff06760 100644</span><br><span class="line">--- a/README.txt</span><br><span class="line">+++ b/README.txt</span><br><span class="line">@@ -92,4 +92,6 @@ git add .                             # 添加本地代码</span><br><span class="line"> git commit -m &quot;add local source&quot;      # 提交本地代码</span><br><span class="line"> git pull origin master                # 下载远程代码</span><br><span class="line"> git merge master                      # 合并master分支</span><br><span class="line">-git push -u origin master             # 上传代码</span><br><span class="line">\ No newline at end of file</span><br><span class="line">+git push -u origin master             # 上传代码</span><br><span class="line">+</span><br><span class="line">+#添加信息</span><br><span class="line">\ No newline at end of file</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>diff --git a/README.txt b/README.txt</code>：显示只有README.txt文件有区别；<br><code>index eac2114..ff06760 100644</code>：对比的是index(索引区里)eac2114(当前索引区文件的blob对象)，ff06760是工作区文件的SHA1值</p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221123971.gif" alt="动画"></p>
<p><code>--- a/README.txt</code>：代表索引区文件<br><code>+++ b/README.txt</code>：代表工作区文件<br><code>@@ -92,4 +92,6 @@ git add .</code>：不同之处位于，索引区从92行开始往后数4行和工作区从92行开始往后数6行</p>
</li>
<li><p>通过<code>git diff --cached</code>对比索引区与代码仓库的不同</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff --cached</span></span><br><span class="line">diff --git a/README.txt b/README.txt</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..eac2114</span><br><span class="line">--- /dev/null</span><br><span class="line">+++ b/README.txt</span><br><span class="line">@@ -0,0 +1,95 @@</span><br><span class="line">+#常用命令</span><br><span class="line">+git remote add origin git@github.com:yeszao/dofiler.git         # 配置远程git版本</span><br><span class="line">库</span><br><span class="line">+git pull origin master                                          # 下载代码及快速合并</span><br><span class="line">+git push origin master                                          # 上传代码及快速合并</span><br><span class="line">+git fetch origin                                                # 从远程库获取代码</span><br><span class="line">+git branch                                                      # 显示所有分支</span><br><span class="line">+git checkout master                                             # 切换到master分支</span><br><span class="line">+git checkout -b dev                                             # 创建并切换到dev</span><br><span class="line">分支</span><br><span class="line">+git commit -m &quot;first version&quot;                                   # 提交</span><br><span class="line">+git status                                                      # 查看状态</span><br><span class="line">+git log                                                         # 查看提交历史</span><br><span class="line">+git config --global core.editor vim                             # 设置默认编辑器为vim（git默认用nano）</span><br><span class="line">+git config core.ignorecase false                                # 设置大小写敏感</span><br><span class="line">+git config --global user.name &quot;YOUR NAME&quot;                       # 设置用户名</span><br><span class="line">+git config --global user.email &quot;YOUR EMAIL ADDRESS&quot;             # 设置邮箱</span><br><span class="line">+</span><br><span class="line">+#别名</span><br><span class="line">+git config --global alias.br=&quot;branch&quot;                 # 创建/查看本地分支</span><br><span class="line">+git config --global alias.co=&quot;checkout&quot;               # 切换分支</span><br><span class="line">+git config --global alias.cb=&quot;checkout -b&quot;            # 创建并切换到新分支</span><br><span class="line">+git config --global alias.cm=&quot;commit -m&quot;              # 提交</span><br><span class="line">+git config --global alias.st=&quot;status&quot;                 # 查看状态</span><br><span class="line">+git config --global alias.pullm=&quot;pull origin master&quot;  # 拉取分支</span><br><span class="line">+git config --global alias.pushm=&quot;push origin master&quot;  # 提交分支</span><br><span class="line">+git config --global alias.log=&quot;git log --oneline --graph --decorate --color=always&quot; # 单行、分颜色显示记录</span><br><span class="line">+git config --global alias.logg=&quot;git log --graph --all --format=format:&#x27;%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(bold white)— %an%C(reset)%C(bold yellow)%d%C(reset)&#x27; --abbrev-commit --date=relative&quot; # 复杂显示</span><br><span class="line">+</span><br><span class="line">+#创建版本库</span><br><span class="line">+git clone &lt;url&gt;                 # 克隆远程版本库</span><br><span class="line">+git init                        # 初始化本地版本库</span><br><span class="line">+</span><br><span class="line">+#修改和提交</span><br><span class="line">+git status                      # 查看状态</span><br><span class="line">+git diff                        # 查看变更内容</span><br><span class="line">+git add .                       # 跟踪所有改动过的文件</span><br><span class="line">+git add &lt;file&gt;                  # 跟踪指定的文件</span><br><span class="line">+git mv &lt;old&gt; &lt;new&gt;              # 文件改名</span><br><span class="line">+git rm &lt;file&gt;                   # 删除文件</span><br><span class="line">+git rm --cached &lt;file&gt;          # 停止跟踪文件但不删除</span><br><span class="line">+git commit -m “commit message”  # 提交所有更新过的文件</span><br><span class="line">+git commit --amend              # 修改最后一次提交</span><br><span class="line">+</span><br><span class="line">+#查看历史</span><br><span class="line">+git log                         # 查看提交历史</span><br><span class="line">+git log -p &lt;file&gt;               # 查看指定文件的提交历史</span><br><span class="line">+git blame &lt;file&gt;                # 以列表方式查看指定文件的提交历史</span><br><span class="line">+</span><br><span class="line">+#撤销</span><br><span class="line">+git reset --hard HEAD           # 撤消工作目录中所有未提交文件的修改内容</span><br><span class="line">+git reset --hard &lt;version&gt;      # 撤销到某个特定版本</span><br><span class="line">+git checkout HEAD &lt;file&gt;        # 撤消指定的未提交文件的修改内容</span><br><span class="line">+git checkout --&lt;file&gt;           # 同上一个命令</span><br><span class="line">+git revert &lt;commit&gt;             # 撤消指定的提交分支与标签</span><br><span class="line">+</span><br><span class="line">+#分支与标签</span><br><span class="line">+git branch                      # 显示所有本地分支</span><br><span class="line">+git checkout &lt;branch/tag&gt;       # 切换到指定分支或标签</span><br><span class="line">+git branch &lt;new-branch&gt;         # 创建新分支</span><br><span class="line">+git branch -d &lt;branch&gt;          # 删除本地分支</span><br><span class="line">+git tag                         # 列出所有本地标签</span><br><span class="line">+git tag &lt;tag-name&gt;              # 基于最新提交创建标签</span><br><span class="line">+git tag -a &quot;v1.0&quot; -m &quot;一些说明&quot;  # -a指定标签名称，-m指定标签说明</span><br><span class="line">+git tag -d &lt;tag-name&gt;           # 删除标签</span><br><span class="line">+git checkout dev                # 合并特定的commit到dev分支上</span><br><span class="line">+git cherry-pick 62ecb3</span><br><span class="line">+</span><br><span class="line">+#合并与衍合</span><br><span class="line">+git merge &lt;branch&gt;              # 合并指定分支到当前分支</span><br><span class="line">+git merge --abort               # 取消当前合并，重建合并前状态</span><br><span class="line">+git merge dev -Xtheirs          # 以合并dev分支到当前分支，有冲突则以dev分支为准</span><br><span class="line">+git rebase &lt;branch&gt;             # 衍合指定分支到当前分支</span><br><span class="line">+</span><br><span class="line">+#远程操作</span><br><span class="line">+git remote -v                                           # 查看远程版本库信息</span><br><span class="line">+git remote show &lt;remote&gt;                                # 查看指定远程版本库信息</span><br><span class="line">+git remote add &lt;remote&gt; &lt;url&gt;                           # 添加远程版本库</span><br><span class="line">+git remote remove &lt;remote&gt;                              # 删除指定的远程版本库</span><br><span class="line">+git fetch &lt;remote&gt;                                      # 从远程库获取代码</span><br><span class="line">+git pull &lt;remote&gt; &lt;branch&gt;                              # 下载代码及快速合并</span><br><span class="line">+git push &lt;remote&gt; &lt;branch&gt;                              # 上传代码及快速合并</span><br><span class="line">+git push &lt;remote&gt; :&lt;branch/tag-name&gt;                    # 删除远程分支或标签</span><br><span class="line">+git push --tags                                         # 上传所有标签</span><br><span class="line">+</span><br><span class="line">+#打包</span><br><span class="line">+git archive --format=zip --output ../file.zip master    # 将master分支打包成file.zip文件，保存在上一级目录</span><br><span class="line">+git archive --format=zip --output ../v1.2.zip v1.2      # 打包v1.2标签的文件，保存在上一级目录v1.2.zip文件中</span><br><span class="line">+git archive --format=zip v1.2 &gt; ../v1.2.zip             # 作用同上一条命令</span><br><span class="line">+</span><br><span class="line">+#远程与本地合并</span><br><span class="line">+git init                              # 初始化本地代码仓</span><br><span class="line">+git add .                             # 添加本地代码</span><br><span class="line">+git commit -m &quot;add local source&quot;      # 提交本地代码</span><br><span class="line">+git pull origin master                # 下载远程代码</span><br><span class="line">+git merge master                      # 合并master分支</span><br><span class="line">+git push -u origin master             # 上传代码</span><br><span class="line">\ No newline at end of file</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>由于未将文件提交到仓库，所以仓库将文件里的内容全部作为新增内容</p>
</li>
<li><p>将修改后的文件先添加到索引区，再从索引区添加到代码仓库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add README.txt</span></span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (dev)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">&quot;2nd commit from dev&quot;</span></span></span><br><span class="line">[dev 116e5dd] 2nd commit from dev</span><br><span class="line"> 1 file changed, 97 insertions(+)</span><br><span class="line"> create mode 100644 README.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="10-远程仓库的添加"><a href="#10-远程仓库的添加" class="headerlink" title="10. 远程仓库的添加"></a>10. 远程仓库的添加</h3><p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221156794.jpeg" alt="网页捕获_22-8-2021_11566_github.com"></p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221158144.jpeg" alt="网页捕获_22-8-2021_115820_github.com"></p>
<p>在此演示将本地仓库以httpsh的方式push到远程仓库</p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221202754.png" alt="image-20210822120200581"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin https://github.com/xiongzhuozhuo/2021-git-demo.git</span><br><span class="line">git branch -M main</span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure>

<ol>
<li><p>添加远程地址</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote add origin https://github.com/xiongzhuozhuo/2021-git-demo.git</span></span><br></pre></td></tr></table></figure>

<p>添加远程仓库地址后，文件目录不会发生改变，但是.git/config文件发生了变化</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/config</span></span><br><span class="line">[core]</span><br><span class="line">        repositoryformatversion = 0</span><br><span class="line">        filemode = false</span><br><span class="line">        bare = false</span><br><span class="line">        logallrefupdates = true</span><br><span class="line">        symlinks = false</span><br><span class="line">        ignorecase = true</span><br><span class="line">[remote &quot;origin&quot;]</span><br><span class="line">        url = https://github.com/xiongzhuozhuo/2021-git-demo.git</span><br><span class="line">        fetch = +refs/heads/*:refs/remotes/origin/*</span><br></pre></td></tr></table></figure>
</li>
<li><p>将本地内容推送到远程master分支上</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git push -u origin master</span></span><br><span class="line">Enumerating objects: 11, done.</span><br><span class="line">Counting objects: 100% (11/11), done.</span><br><span class="line">Delta compression using up to 8 threads</span><br><span class="line">Compressing objects: 100% (6/6), done.</span><br><span class="line">Writing objects: 100% (11/11), 760 bytes | 190.00 KiB/s, done.</span><br><span class="line">Total 11 (delta 1), reused 0 (delta 0), pack-reused 0</span><br><span class="line">remote: Resolving deltas: 100% (1/1), done.</span><br><span class="line">To https://github.com/xiongzhuozhuo/2021-git-demo.git</span><br><span class="line"> * [new branch]      master -&gt; master</span><br><span class="line">Branch &#x27;master&#x27; set up to track remote branch &#x27;master&#x27; from &#x27;origin&#x27;.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108221228160.png" alt="image-20210822122806491"></p>
</li>
<li><p>查看新增文件</p>
<p>①logs里有新增文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git/logs /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GIT-DEMO\.GIT\LOGS</span><br><span class="line">│  HEAD</span><br><span class="line">│</span><br><span class="line">└─refs</span><br><span class="line">    ├─heads</span><br><span class="line">    │      dev</span><br><span class="line">    │      master</span><br><span class="line">    │      tmp</span><br><span class="line">    │</span><br><span class="line">    └─remotes            #新增</span><br><span class="line">        └─origin         #新增</span><br><span class="line">                master    #新增</span><br></pre></td></tr></table></figure>

<p>②refs里有新增文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">xiong@SURFACE-PRO6 C:\Files\git-demo</span><br><span class="line"><span class="meta">$</span><span class="bash"> tree .git/refs /f</span></span><br><span class="line">卷 Local Disk 的文件夹 PATH 列表</span><br><span class="line">卷序列号为 C0000100 F296:2801</span><br><span class="line">C:\FILES\GIT-DEMO\.GIT\REFS</span><br><span class="line">├─heads</span><br><span class="line">│      dev</span><br><span class="line">│      master</span><br><span class="line">│      tmp</span><br><span class="line">│</span><br><span class="line">├─remotes                 #新增</span><br><span class="line">│  └─origin              #新增</span><br><span class="line">│          master         #新增</span><br><span class="line">│</span><br><span class="line">└─tags</span><br></pre></td></tr></table></figure>

<p>因为此时是在master分支上将文件推送到远程服务器的，所以二者的指向应该相同，验证如下：</p>
<ol>
<li><p>查看remotes里的master分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/refs/remotes/origin/master</span></span><br><span class="line">a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b</span><br><span class="line"></span><br><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cat-file -t a1431a</span></span><br><span class="line">commit</span><br></pre></td></tr></table></figure>

<p>指向的为一次提交</p>
</li>
<li><p>查看heads里的master分支</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat .git/refs/heads/master</span></span><br><span class="line">a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b</span><br></pre></td></tr></table></figure>

<p>二者指向同一次提交</p>
</li>
<li><p>查看提交历史</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">xiong@Surface-pro6 MINGW64 /c/Files/git-demo (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit a1431ae9fc3ef4f2ddd35c6a44349b69a5bd2f8b (HEAD -&gt; master, origin/master)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 17:10:05 2021 +0800</span><br><span class="line"></span><br><span class="line">    3rd commit</span><br><span class="line"></span><br><span class="line">commit 1928061d327bfa64a0a6ce3f4faa029b8c1ce776</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 16:14:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    2nd commit</span><br><span class="line"></span><br><span class="line">commit 8a44e8c0e81d4766b22777a61f3233d8b14497cc (tmp)</span><br><span class="line">Author: xiongzhuo &lt;xiongzhuo@outlook.com&gt;</span><br><span class="line">Date:   Sat Aug 21 15:37:06 2021 +0800</span><br><span class="line"></span><br><span class="line">    1st commit</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<p>此时在本地做一次提交后，本地的master分支和远程仓库的master分支就不同步了</p>
<h3 id="11-git-对象的压缩"><a href="#11-git-对象的压缩" class="headerlink" title="11. git 对象的压缩"></a>11. git 对象的压缩</h3><h3 id="12-SHA1插曲"><a href="#12-SHA1插曲" class="headerlink" title="12. SHA1插曲"></a>12. SHA1插曲</h3><h3 id="13-git-pack压缩"><a href="#13-git-pack压缩" class="headerlink" title="13. git pack压缩"></a>13. git pack压缩</h3><p><strong>背景</strong></p>
<p>在git里，文件会先压缩成blob对象进行存储，虽在在一定程度上减小了内存开销，但是由于每次对文件在工作区修改后，都需要将</p>
<h3 id="14-git-pack解压缩"><a href="#14-git-pack解压缩" class="headerlink" title="14. git pack解压缩"></a>14. git pack解压缩</h3><h3 id="15-git垃圾对象的清理"><a href="#15-git垃圾对象的清理" class="headerlink" title="15. git垃圾对象的清理"></a>15. git垃圾对象的清理</h3><h3 id="16-fast-forward合并"><a href="#16-fast-forward合并" class="headerlink" title="16. fast forward合并"></a>16. fast forward合并</h3><h3 id="17-3-way-merge"><a href="#17-3-way-merge" class="headerlink" title="17. 3 way merge"></a>17. 3 way merge</h3><h3 id="18-带冲突的3-way-merge"><a href="#18-带冲突的3-way-merge" class="headerlink" title="18. 带冲突的3 way merge"></a>18. 带冲突的3 way merge</h3><h3 id="19-git-rebase"><a href="#19-git-rebase" class="headerlink" title="19. git rebase"></a>19. git rebase</h3><h3 id="20-标签tag"><a href="#20-标签tag" class="headerlink" title="20. 标签tag"></a>20. 标签tag</h3><h3 id="21-本地分支和远程分支"><a href="#21-本地分支和远程分支" class="headerlink" title="21. 本地分支和远程分支"></a>21. 本地分支和远程分支</h3><h3 id="22-git-fetch-amp-git-pull"><a href="#22-git-fetch-amp-git-pull" class="headerlink" title="22. git fetch &amp; git pull"></a>22. git fetch &amp; git pull</h3><h3 id="23-fetch-head"><a href="#23-fetch-head" class="headerlink" title="23. fetch_head"></a>23. fetch_head</h3><h3 id="24-git-pull"><a href="#24-git-pull" class="headerlink" title="24. git pull"></a>24. git pull</h3><h3 id="25-本地git-hook"><a href="#25-本地git-hook" class="headerlink" title="25. 本地git hook"></a>25. 本地git hook</h3><h3 id="26-pre-commit钩子"><a href="#26-pre-commit钩子" class="headerlink" title="26. pre-commit钩子"></a>26. pre-commit钩子</h3><h3 id="27-git-hook和python"><a href="#27-git-hook和python" class="headerlink" title="27. git hook和python"></a>27. git hook和python</h3>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div></div>
  <button onclick="document.querySelector('.post-reward').classList.toggle('active');">
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.JPG" alt="软糖豆人 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/images/alipay.JPG" alt="软糖豆人 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          <div class="followme">
  <span>欢迎关注我的其它发布渠道</span>

  <div class="social-list">

      <div class="social-item">
        <a target="_blank" class="social-link" href="/images/wechat_channel.jpg">
          <span class="icon">
            <i class="fab fa-weixin"></i>
          </span>

          <span class="label">WeChat</span>
        </a>
      </div>

      <div class="social-item">
        <a target="_blank" class="social-link" href="/atom.xml">
          <span class="icon">
            <i class="fa fa-rss"></i>
          </span>

          <span class="label">RSS</span>
        </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/Git/" rel="tag"># Git</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/09/17/Git%20%E5%91%BD%E4%BB%A4%E5%8A%A8%E7%94%BB%E6%BC%94%E7%A4%BA/" rel="prev" title="Git原理动画演示">
                  <i class="fa fa-chevron-left"></i> Git原理动画演示
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/09/17/Git%E5%8E%9F%E7%90%86%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D2/" rel="next" title="Git原理(02)">
                  Git原理(02) <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="SOHUCS"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">软糖豆人</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">543k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">8:14</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/local-search.js"></script>






  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





  <script>
  NexT.utils.loadComments('#SOHUCS', () => {
    NexT.utils.getScript('https://changyan.sohu.com/upload/changyan.js', () => {
      window.changyan.api.config({
        appid: 'cyvkmiP62',
        conf : 'f835963bde21c00f5de8da387f64e40a'
      });
    });
  });
  </script>
  <script src="https://assets.changyan.sohu.com/upload/plugins/plugins.count.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
