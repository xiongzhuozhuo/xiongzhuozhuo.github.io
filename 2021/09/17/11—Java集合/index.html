<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/logo.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"github.com","root":"/","images":"/images","scheme":"Gemini","version":"8.2.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="Java集合">
<meta property="og:type" content="article">
<meta property="og:title" content="11-Java集合">
<meta property="og:url" content="https://github.com/xiongzhuozhuo/xiongzhuozhuo.github.io/2021/09/17/11%E2%80%94Java%E9%9B%86%E5%90%88/index.html">
<meta property="og:site_name" content="XiongZhuo">
<meta property="og:description" content="Java集合">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210724170615.png">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210724151638.png">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108161808047.jpg">
<meta property="og:image" content="https://gitee.com/xiongzero/PicGo/raw/master/img/202108161753231.png">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210724175455.png">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210724180207.png">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210724214132.png">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726145851.png">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726152025.png">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726210625.png">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726211324.png">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726213051.png">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726213132.png">
<meta property="og:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210728112559.png">
<meta property="article:published_time" content="2021-09-16T17:27:14.962Z">
<meta property="article:modified_time" content="2021-08-16T13:18:40.640Z">
<meta property="article:author" content="软糖豆人">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210724170615.png">


<link rel="canonical" href="https://github.com/xiongzhuozhuo/xiongzhuozhuo.github.io/2021/09/17/11%E2%80%94Java%E9%9B%86%E5%90%88/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>
<title>11-Java集合 | XiongZhuo</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="XiongZhuo" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>
  
<a href="https://github.com/xiongzhuozhuo" class="github-corner" aria-label="View source on GitHub">
<svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
<path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
<path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
<path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
</svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">XiongZhuo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#11%E2%80%94Java%E9%9B%86%E5%90%88"><span class="nav-number">1.</span> <span class="nav-text">11—Java集合</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E6%A6%82%E8%BF%B0"><span class="nav-number">1.1.</span> <span class="nav-text">1. Java集合框架概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Collection%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="nav-number">1.2.</span> <span class="nav-text">2. Collection接口方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-Iterator%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%8E%A5%E5%8F%A3"><span class="nav-number">1.3.</span> <span class="nav-text">3. Iterator迭代器接口</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-Collection%E5%AD%90%E6%8E%A5%E5%8F%A3%E4%B8%80%EF%BC%9AList"><span class="nav-number">1.4.</span> <span class="nav-text">4. Collection子接口一：List</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#4-1-List%E6%8E%A5%E5%8F%A3%E6%A6%82%E8%BF%B0"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.1 List接口概述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-2-List%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.2 List接口方法</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#4-2-1-List%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B9%8B%E4%B8%80%EF%BC%9AArrayList"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">4.2.1 List实现类之一：ArrayList</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-2-2-List%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B9%8B%E4%BA%8C%EF%BC%9ALinkedList"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">4.2.2 List实现类之二：LinkedList</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#4-2-3-List%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B9%8B%E4%B8%89%EF%BC%9AVector"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">4.2.3 List实现类之三：Vector</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-Collection%E5%AD%90%E6%8E%A5%E5%8F%A3%E4%BA%8C%EF%BC%9ASet"><span class="nav-number">1.5.</span> <span class="nav-text">5. Collection子接口二：Set</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-1-Set%E6%8E%A5%E5%8F%A3%E6%A6%82%E8%BF%B0"><span class="nav-number">1.5.1.</span> <span class="nav-text">5.1 Set接口概述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-Set%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95"><span class="nav-number">1.5.2.</span> <span class="nav-text">5.2 Set接口方法</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#5-2-1-Set%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B9%8B%E4%B8%80%EF%BC%9AHashSet"><span class="nav-number">1.5.2.1.</span> <span class="nav-text">5.2.1 Set实现类之一：HashSet</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#5-2-2-Set%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B9%8B%E4%BA%8C%EF%BC%9ALinkedHashSet"><span class="nav-number">1.5.2.2.</span> <span class="nav-text">5.2.2 Set实现类之二：LinkedHashSet</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#Set%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B9%8B%E4%B8%89%EF%BC%9ATreeSet"><span class="nav-number">1.5.2.3.</span> <span class="nav-text">Set实现类之三：TreeSet</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-Map%E6%8E%A5%E5%8F%A3"><span class="nav-number">1.6.</span> <span class="nav-text">6. Map接口</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#6-1-Map%E6%8E%A5%E5%8F%A3%E6%A6%82%E8%BF%B0"><span class="nav-number">1.6.1.</span> <span class="nav-text">6.1 Map接口概述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-2-Map%E6%8E%A5%E5%8F%A3%EF%BC%9A%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">1.6.2.</span> <span class="nav-text">6.2 Map接口：常用方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-3-Map%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B9%8B%E4%B8%80%EF%BC%9AHashMap"><span class="nav-number">1.6.3.</span> <span class="nav-text">6.3 Map实现类之一：HashMap</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#6-3-1-HashMap%E7%9A%84%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84"><span class="nav-number">1.6.3.1.</span> <span class="nav-text">6.3.1 HashMap的存储结构</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#6-3-2-HashMap%E6%BA%90%E7%A0%81%E4%B8%AD%E7%9A%84%E9%87%8D%E8%A6%81%E5%B8%B8%E9%87%8F"><span class="nav-number">1.6.3.2.</span> <span class="nav-text">6.3.2 HashMap源码中的重要常量</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#6-3-3-HashMap%E7%9A%84%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%EF%BC%9AJDK-1-8%E4%B9%8B%E5%89%8D"><span class="nav-number">1.6.3.3.</span> <span class="nav-text">6.3.3 HashMap的存储结构：JDK 1.8之前</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#6-3-4-HashMap%E7%9A%84%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%EF%BC%9AJDK-1-8"><span class="nav-number">1.6.3.4.</span> <span class="nav-text">6.3.4 HashMap的存储结构：JDK 1.8</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#6-3-5-%E6%80%BB%E7%BB%93%EF%BC%9AJDK1-8%E7%9B%B8%E8%BE%83%E4%BA%8E%E4%B9%8B%E5%89%8D%E7%9A%84%E5%8F%98%E5%8C%96%EF%BC%9A"><span class="nav-number">1.6.3.5.</span> <span class="nav-text">6.3.5 总结：JDK1.8相较于之前的变化：</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-4-Map%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B9%8B%E4%BA%8C%EF%BC%9ALinkedHashMap"><span class="nav-number">1.6.4.</span> <span class="nav-text">6.4 Map实现类之二：LinkedHashMap</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#6-4-1-Map%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B9%8B%E4%B8%89%EF%BC%9ATreeMap"><span class="nav-number">1.6.4.1.</span> <span class="nav-text">6.4.1 Map实现类之三：TreeMap</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#6-4-2-Map%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B9%8B%E5%9B%9B%EF%BC%9AHashtable"><span class="nav-number">1.6.4.2.</span> <span class="nav-text">6.4.2 Map实现类之四：Hashtable</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#6-4-3-Map%E5%AE%9E%E7%8E%B0%E7%B1%BB%E4%B9%8B%E4%BA%94%EF%BC%9AProperties"><span class="nav-number">1.6.4.3.</span> <span class="nav-text">6.4.3 Map实现类之五：Properties</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-Collections%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="nav-number">1.7.</span> <span class="nav-text">7. Collections工具类</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#7-1-Collections%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number">1.7.1.</span> <span class="nav-text">7.1 Collections常用方法</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="软糖豆人"
      src="/images/candy.png">
  <p class="site-author-name" itemprop="name">软糖豆人</p>
  <div class="site-description" itemprop="description">网站分享</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">43</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/xiongzhuozhuo" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xiongzhuozhuo"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:xiongzhuo@outlook.com" title="E-Mail → mailto:xiongzhuo@outlook.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.bilibili.com/video/BV1TA411q75f" title="https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1TA411q75f" rel="noopener" target="_blank">Git学习教程</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.bilibili.com/video/BV16W411t7mq?p=1" title="https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV16W411t7mq?p&#x3D;1" rel="noopener" target="_blank">Hexo搭建博客</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.kuangstudy.com/" title="https:&#x2F;&#x2F;www.kuangstudy.com" rel="noopener" target="_blank">Java学习教程</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://github.com/xiongzhuozhuo/xiongzhuozhuo.github.io/2021/09/17/11%E2%80%94Java%E9%9B%86%E5%90%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/candy.png">
      <meta itemprop="name" content="软糖豆人">
      <meta itemprop="description" content="网站分享">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XiongZhuo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          11-Java集合
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-09-17 01:27:14" itemprop="dateCreated datePublished" datetime="2021-09-17T01:27:14+08:00">2021-09-17</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-08-16 21:18:40" itemprop="dateModified" datetime="2021-08-16T21:18:40+08:00">2021-08-16</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">编程</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    
      <a title="changyan" href="/2021/09/17/11%E2%80%94Java%E9%9B%86%E5%90%88/#SOHUCS" itemprop="discussionUrl">
        <span id="changyan_count_unit" class="post-comments-count hc-comment-count" data-xid="2021/09/17/11—Java集合/" itemprop="commentCount"></span>
      </a>
    
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>38k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>34 分钟</span>
    </span>
</div>

            <div class="post-description">Java集合</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <span id="more"></span>

<h3 id="11—Java集合"><a href="#11—Java集合" class="headerlink" title="11—Java集合"></a>11—Java集合</h3><h4 id="1-Java集合框架概述"><a href="#1-Java集合框架概述" class="headerlink" title="1. Java集合框架概述"></a>1. Java集合框架概述</h4><ul>
<li>一方面，面向对象语言对事物的体现都是以对象的形式，为了方便对多个对象的操作，就要对对对象进行存储。另一方面，使用Array存储对象方面具有一些弊端，而Java集合就像一种容器，可以动态的把多个对象引用放入容器中<ul>
<li><strong>数组在内存存储方面的特点：</strong><ul>
<li>数组初始化以后，长度就确定了</li>
<li>数组声明的类型，就决定了进行元素初始化时的类型</li>
</ul>
</li>
<li><strong>数组在存储数据方面的弊端</strong><ul>
<li>数组初始化以后，长度就不可变了，不便于扩展</li>
<li>数组中提供的属性和方法少，不便于进行添加、删除、插入等操作，且效率不高，无法直接获取存储元素的个数</li>
<li>数字存储的数据是有序的、可以重复的。—&gt;存储数据的特点单一</li>
</ul>
</li>
</ul>
</li>
<li>Java集合类可以用于存储数量不等的多个对象，还可以用来保存具有映射关系的关联数组</li>
<li>使用场景<ul>
<li><img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210724170615.png" alt="image-20210724151314780" style="zoom:67%;" /></li>
</ul>
</li>
<li>Java集合可以分为Collection和Map两种体系<ul>
<li>Collection接口：单列数据，定义了存取一组对象的方法的集合<ul>
<li>List：元素有序、可重复的集合</li>
<li>Set：元素无序、不可重复的集合</li>
<li>Collection接口继承树</li>
<li><img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210724151638.png" alt="image-20210724151637427" style="zoom:80%;" /></li>
</ul>
</li>
<li>Map接口：双列数据，保存具有映射关系”key=value”的集合<ul>
<li>Map接口继承树</li>
<li><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108161808047.jpg" alt="Inked20210724151733_LI"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-Collection接口方法"><a href="#2-Collection接口方法" class="headerlink" title="2. Collection接口方法"></a>2. Collection接口方法</h4><p><strong>Collection接口</strong></p>
<ul>
<li>Collection接口是List、Set和Queue接口的父接口，该接口里定义的方法既可以用于操作Set集合，也可以用于操作List和Queue集合</li>
<li>JDK不提供此接口的任何直接实现，而是提供更加具体的子接口（如：Set和List）实现</li>
<li>在Java5之前，Java集合会丢失容器中所有对象的数据类型，把所有对象都当成Object类型处理；从JDK5.0增加泛型以后，Java集合可以记住容器中对象的数据类型</li>
</ul>
<p><strong>Collection接口方法</strong></p>
<ol>
<li>添加<ol>
<li>add(Object obj)</li>
<li>addAll(Collection coll)</li>
</ol>
</li>
<li>删除<ol>
<li>boolean remove(Object obj)：通过元素的equals方法判断是否要删除那个元素。只会删除找到的第一个元素</li>
<li>boolean removeAll(Collection coll)：取当前集合的差集</li>
</ol>
</li>
<li>清空集合<ol>
<li>void clear()</li>
</ol>
</li>
<li>获取有效元素的个数<ol>
<li>int size()</li>
</ol>
</li>
<li>取两个集合的交集<ol>
<li>boolean retainAll(Collection coll)：把交集的结果存在当前集合中，不影响coll</li>
</ol>
</li>
<li>集合是否相等<ol>
<li>boolean equals(Object obj)</li>
</ol>
</li>
<li>是否包含某个元素<ol>
<li>boolean contains(Object obj)：是通过元素的equals方法来判断是否是同一个对象</li>
<li>boolean containsAll(Collection c)：也是调用元素的equals方法来比较的。拿两个集合的元素挨个比较</li>
</ol>
</li>
<li>是否是空集<ol>
<li>boolean isEmpty()</li>
</ol>
</li>
<li>转成对象数组<ol>
<li>Object[] toArray()</li>
</ol>
</li>
<li>获取集合对象的哈希值<ol>
<li>hashCode()</li>
</ol>
</li>
<li>遍历<ol>
<li>iterator()：返回迭代器对象，用于集合遍历</li>
</ol>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectoionTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Collection coll1 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        Collection coll2 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        <span class="comment">//添加：add(Object obj)  add(Collection coll)</span></span><br><span class="line">        coll1.add(<span class="number">123</span>);</span><br><span class="line">        coll1.add(<span class="string">&quot;xiong&quot;</span>);</span><br><span class="line">        coll1.add(<span class="keyword">new</span> Person(<span class="string">&quot;zhuo&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        coll1.add(<span class="keyword">false</span>);</span><br><span class="line">        coll1.add(<span class="keyword">new</span> String(<span class="string">&quot;GUET&quot;</span>));</span><br><span class="line"></span><br><span class="line">        coll2.addAll(coll1);</span><br><span class="line">        coll2.add(<span class="keyword">new</span> Student(<span class="string">&quot;sut&quot;</span>,<span class="number">22</span>,<span class="number">87.5</span>));</span><br><span class="line">        System.out.println(coll1);<span class="comment">//[123, xiong, Person&#123;name=&#x27;zhuo&#x27;, age=23&#125;, false, GUET]</span></span><br><span class="line">        System.out.println(coll2);<span class="comment">//[123, xiong, Person&#123;name=&#x27;zhuo&#x27;, age=23&#125;, false, GUET, Student&#123;name=&#x27;sut&#x27;, age=22, score=87.5&#125;]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//删除：remove(Object obj)  remove(Collection coll) clear()</span></span><br><span class="line">        coll1.remove(<span class="keyword">new</span> Person(<span class="string">&quot;zhuo&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        System.out.println(coll1);<span class="comment">//[123, xiong, Person&#123;name=&#x27;zhuo&#x27;, age=23&#125;, false, GUET]</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        结果：未能删除</span></span><br><span class="line"><span class="comment">        原因：remove使用的是equals方法来比较二者的异同，而此时Person类中未重写equals方法，</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        coll2.remove(<span class="keyword">new</span> Student(<span class="string">&quot;sut&quot;</span>,<span class="number">22</span>,<span class="number">87.5</span>));</span><br><span class="line">        System.out.println(coll2);<span class="comment">//[123, xiong, Person&#123;name=&#x27;zhuo&#x27;, age=23&#125;, false, GUET]</span></span><br><span class="line"></span><br><span class="line">        coll1.remove(<span class="number">123</span>);</span><br><span class="line">        coll2.removeAll(coll1);</span><br><span class="line">        System.out.println(coll1);<span class="comment">//[xiong, Person&#123;name=&#x27;zhuo&#x27;, age=23&#125;, false, GUET]</span></span><br><span class="line">        System.out.println(coll2);<span class="comment">//[123]</span></span><br><span class="line"></span><br><span class="line">        coll2.clear();</span><br><span class="line">        System.out.println(coll2);<span class="comment">//[]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询：</span></span><br><span class="line">        <span class="comment">//是否是空集：isEmpty()</span></span><br><span class="line">        System.out.println(coll2.isEmpty());<span class="comment">//true</span></span><br><span class="line">        <span class="comment">//获取有效元素的个数 size()</span></span><br><span class="line">        System.out.println(coll1.size());<span class="comment">//4</span></span><br><span class="line">        <span class="comment">//是否包含某个元素 contains(Object obj) containsAll(Collection coll) 二者也是用equals来进行比较</span></span><br><span class="line">        System.out.println(coll1.contains(<span class="string">&quot;xiong&quot;</span>));<span class="comment">//true</span></span><br><span class="line">        System.out.println(coll1.containsAll(coll2));<span class="comment">//true</span></span><br><span class="line">        <span class="comment">//取两集合的交集 retainAll(Colleciton coll) 把交集结果存在当前集合中，不影响coll</span></span><br><span class="line">        Collection coll3 = Arrays.asList(<span class="string">&quot;xiong&quot;</span>);</span><br><span class="line">        System.out.println(coll1.retainAll(coll3) + <span class="string">&quot;  coll1: &quot;</span> + coll1);<span class="comment">//true  coll1: [xiong]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//转换为数组对象 toArray()</span></span><br><span class="line">        Object[] objects = coll1.toArray();</span><br><span class="line">        <span class="keyword">for</span> (Object o:</span><br><span class="line">             objects) &#123;</span><br><span class="line">            System.out.println(o); <span class="comment">//xiong</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取对象的哈希值 hashCode</span></span><br><span class="line">        System.out.println(coll1.hashCode());<span class="comment">//114060790</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//遍历：iterator()</span></span><br><span class="line">        Iterator iter = coll1.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iter.hasNext())&#123;</span><br><span class="line">            System.out.println(iter.next());<span class="comment">//xiong</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> name; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123; <span class="keyword">this</span>.name = name; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> age; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123; <span class="keyword">this</span>.age = age; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> score;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(<span class="keyword">double</span> score)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.score = score;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age, <span class="keyword">double</span> score)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name, age);</span><br><span class="line">        <span class="keyword">this</span>.score = score;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.getAge();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.getName();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Student student = (Student) o;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.getAge() == student.getAge() &amp;&amp; Objects.equals(<span class="keyword">this</span>.getName(), student.getName()) &amp;&amp; Double.compare(student.score, score) == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +<span class="string">&quot;name=&#x27;&quot;</span> + <span class="keyword">super</span>.getName() + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + <span class="keyword">super</span>.getAge() +</span><br><span class="line">                <span class="string">&quot;, score=&quot;</span> + score +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>[123, xiong, Person{name=’zhuo’, age=23}, false, GUET]<br>[123, xiong, Person{name=’zhuo’, age=23}, false, GUET, Student{name=’sut’, age=22, score=87.5}]<br>[123, xiong, Person{name=’zhuo’, age=23}, false, GUET]<br>[123, xiong, Person{name=’zhuo’, age=23}, false, GUET]<br>[xiong, Person{name=’zhuo’, age=23}, false, GUET]<br>[123]<br>[]<br>true<br>4<br>true<br>true<br>true  coll1: [xiong]<br>xiong<br>114060790<br>xiong</p>
</blockquote>
<h4 id="3-Iterator迭代器接口"><a href="#3-Iterator迭代器接口" class="headerlink" title="3. Iterator迭代器接口"></a>3. Iterator迭代器接口</h4><p><strong>使用Iterator接口遍历集合元素</strong></p>
<ul>
<li><p>Iterator对象称为迭代器（设计模式的一种），主要用于遍历Collection集合中的元素</p>
</li>
<li><p>GOF给迭代器模式的定义为：提供一种方法访问一个容器(container)对象中各个元素，而又不需要暴露内部细节。<strong>迭代器模式，就是为容器而生</strong>。类似于“公交车上的售票员”、”火车上的乘务员”</p>
</li>
<li><p>Collection接口继承了java.lang.Iterable接口，该接口有一个iterator()方法，所有实现了Collection接口的集合类都有一个iterator()方法，用以返回一个实现了Iterator对象</p>
</li>
<li><p>Iterator仅用于遍历集合，Iterator本身并不提供承装对象的能力。如果需要创建Iterator对象，则必须有一个被迭代的集合</p>
</li>
<li><p>集合对象每次调用iterator()方法都得到一个全新的迭代器对象，默认游标都在集合的第一个元素之前</p>
</li>
<li><p>在调用it.next()方法之前必须要调用it.hasNext()进行检测。若不调用，且在下一条记录无效，直接调用it.next()会抛出NoSuchElementException异常</p>
<p><img src="https://gitee.com/xiongzero/PicGo/raw/master/img/202108161753231.png" alt="image-20210816175355777"></p>
</li>
<li><p><img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210724175455.png" alt="image-20210724175448962"></p>
</li>
<li><p>Iterator接口remove()方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Iterator ter = coll.iterator();<span class="comment">//回到起点</span></span><br><span class="line"><span class="keyword">while</span>(iter.hasNext())&#123;</span><br><span class="line">    Object obj = iter.next();</span><br><span class="line">    <span class="keyword">if</span>(obj.equals(<span class="string">&quot;Tom&quot;</span>))&#123;</span><br><span class="line">        iter.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Iterator可以删除集合的元素，但是是遍历过程中普通迭代器对象的remove方法，不是集合对象的remove方法</li>
<li>如果还未调用next()或在上一次调用next方法之后已经调用了remove方法，再调用remove都会报IllegalStateException</li>
</ul>
</li>
</ul>
<p><strong>使用foreach循环遍历集合元素</strong></p>
<ul>
<li><p>Java5.0提供了foreach循环迭代访问Collection和数组</p>
</li>
<li><p>遍历操作不需要获得Collection或数组长度，无需使用索引访问元素</p>
</li>
<li><p>遍历集合的底层调用Iterator完成操作</p>
</li>
<li><p>foreach还可以用来遍历数组</p>
<img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210724180207.png" alt="image-20210724180206697" style="zoom: 80%;" />

</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IteratorTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Collection coll = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        coll.add(<span class="number">123</span>);</span><br><span class="line">        coll.add(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">        coll.add(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">        Iterator iter = coll.iterator();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//方式一遍历</span></span><br><span class="line">        System.out.println(iter.next());</span><br><span class="line">        System.out.println(iter.next());</span><br><span class="line">        System.out.println(iter.next());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//方式二遍历</span></span><br><span class="line">        iter = coll.iterator();<span class="comment">//每次使用迭代器都需将游标复位</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; coll.size(); i++) &#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//方式三遍历</span></span><br><span class="line">        iter = coll.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iter.hasNext())&#123;</span><br><span class="line">            System.out.println(iter.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//方式四遍历</span></span><br><span class="line">        <span class="keyword">for</span> (Object c :</span><br><span class="line">                coll) &#123;</span><br><span class="line">            System.out.println(c);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//方式五遍历</span></span><br><span class="line">        Object[] objects = coll.toArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; objects.length; i++) &#123;</span><br><span class="line">            System.out.println(objects[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//删除集合中元素</span></span><br><span class="line">        iter = coll.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iter.hasNext())&#123;</span><br><span class="line">            Object obj = iter.next();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;123&quot;</span>.equals(obj))&#123;</span><br><span class="line">                iter.remove();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(coll);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-Collection子接口一：List"><a href="#4-Collection子接口一：List" class="headerlink" title="4. Collection子接口一：List"></a>4. Collection子接口一：List</h4><h5 id="4-1-List接口概述"><a href="#4-1-List接口概述" class="headerlink" title="4.1 List接口概述"></a>4.1 List接口概述</h5><ul>
<li>鉴于Java中数组用来存储数据的局限性，我们通常使用List替代数组</li>
<li>List集合类中元素有序、且可重复，集合中的每个元素都有其对应的顺序索引</li>
<li>List容器中的元素都对应一个整数型的序号记载其在容器中的位置，可以根据序号存取容器中的元素</li>
<li>JDK API中List接口的实现类常用的有：ArrayList、LinkedList和Vector</li>
</ul>
<h5 id="4-2-List接口方法"><a href="#4-2-List接口方法" class="headerlink" title="4.2 List接口方法"></a>4.2 List接口方法</h5><ul>
<li>List除了从Collection集合继承的方法外，List集合里添加了一些根据索引来操作集合元素的方法<ul>
<li>void add(int indexm Object ele)：在index位置插入ele元素</li>
<li>boolean addAll(int index, Collection eles)：从index位置开始将eles中的所有元素添加进来</li>
<li>Object get(int index)：获取指定index位置的元素</li>
<li>int indexOf(Object obj)：返回obj在当前集合中首次出现的位置</li>
<li>int lastIndexOf(Object obj)：返回obj在当前集合中末次出现的位置</li>
<li>Object set(int index, Object ele)：设置指定index位置的元素为ele</li>
<li>List subList(int formIndex, int toIndex)：返回从fromIndex到toIndex位置的子集</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">常用方法：</span></span><br><span class="line"><span class="comment">增：add(Object obj)</span></span><br><span class="line"><span class="comment">删：remove(int index)  remove(Object obj)</span></span><br><span class="line"><span class="comment">改：set(int index, Object obj)</span></span><br><span class="line"><span class="comment">查：get(int index) indexOf(Object obj) lastIndexOf(Object obj)</span></span><br><span class="line"><span class="comment">插：add(int index, Object obj) addAll(int index, Collection coll)</span></span><br><span class="line"><span class="comment">长度：size()</span></span><br><span class="line"><span class="comment">遍历：①Iterator迭代器方式</span></span><br><span class="line"><span class="comment">     ②增强for循环</span></span><br><span class="line"><span class="comment">     ③普通循环</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ArrayList arrayList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        Collection arrayList1 =  Arrays.asList(<span class="string">&quot;GUET&quot;</span>,<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//增：add(Object obj)</span></span><br><span class="line">        arrayList.add(<span class="number">123</span>);</span><br><span class="line">        arrayList.add(<span class="string">&quot;xiong&quot;</span>);</span><br><span class="line">        arrayList.add(<span class="keyword">false</span>);</span><br><span class="line">        arrayList.add(<span class="number">0</span>);</span><br><span class="line">        arrayList.add(arrayList1);</span><br><span class="line">        System.out.println(arrayList);<span class="comment">//[123, xiong, false, 0, [GUET, true]]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//删：remove(int index, Object obj) remove(Object obj)</span></span><br><span class="line">        arrayList.remove(<span class="number">0</span>);</span><br><span class="line">        System.out.println(arrayList);<span class="comment">//[xiong, false, 0, [GUET, true]]</span></span><br><span class="line">        arrayList.remove(<span class="keyword">new</span> Integer(<span class="number">0</span>));</span><br><span class="line">        System.out.println(arrayList);<span class="comment">//[xiong, false, [GUET, true]]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//查：get(int index) indexOf(Object obj) lastIndexOf(Object obj)</span></span><br><span class="line">        Object o = arrayList.get(<span class="number">1</span>);</span><br><span class="line">        System.out.println(o);<span class="comment">//false</span></span><br><span class="line">        System.out.println(arrayList.indexOf(<span class="string">&quot;xiong&quot;</span>));<span class="comment">//0</span></span><br><span class="line">        System.out.println(arrayList.lastIndexOf(<span class="string">&quot;xiong&quot;</span>));<span class="comment">//0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//改：set(int index, Object obj)</span></span><br><span class="line">        System.out.println(arrayList.set(<span class="number">1</span>, <span class="string">&quot;zhuo&quot;</span>));<span class="comment">//false 返回被替换的元素</span></span><br><span class="line">        System.out.println(arrayList);<span class="comment">//[xiong, false, [GUET, true]]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//插：add(int index, Object obj)</span></span><br><span class="line">        arrayList.add(<span class="number">3</span>, <span class="string">&quot;computer&quot;</span>);</span><br><span class="line">        arrayList.addAll(<span class="number">4</span>,arrayList1);</span><br><span class="line">        System.out.println(arrayList);<span class="comment">//[xiong, zhuo, [GUET, true], computer, GUET, true]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//长度：size()</span></span><br><span class="line">        System.out.println(arrayList.size());<span class="comment">//6</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//遍历</span></span><br><span class="line">        Iterator iterator = arrayList.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取子串</span></span><br><span class="line">        System.out.println(arrayList.subList(<span class="number">0</span>, <span class="number">1</span>));<span class="comment">//[xiong]  区间为[0,1)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="4-2-1-List实现类之一：ArrayList"><a href="#4-2-1-List实现类之一：ArrayList" class="headerlink" title="4.2.1 List实现类之一：ArrayList"></a>4.2.1 List实现类之一：ArrayList</h6><ul>
<li><p>Array是List接口的典型实现类、主要实现类、</p>
</li>
<li><p>本质上，ArratList是对象引用的一个”变长“数组</p>
</li>
<li><p>ArrayList的JDK1.8之前与之后的实现区别</p>
<ul>
<li>JDK1.7：ArrayList像饿汉式，直接创建一个初始容量为10的数组</li>
<li>JDK1.8：ArrayList像懒汉式，一开始直接创建一个长度为0的数组，当添加第一个元素时再创建一个容量为10的数组</li>
</ul>
</li>
<li><p>Arrays.asList(…)方法返回的List集合，既不是ArrayList实例，也不是Vector实例。Arrays.asList(…)返回值是一个固定长度的List集合</p>
<p><img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210724214132.png" alt="image-20210724214130848"></p>
</li>
</ul>
<h6 id="4-2-2-List实现类之二：LinkedList"><a href="#4-2-2-List实现类之二：LinkedList" class="headerlink" title="4.2.2 List实现类之二：LinkedList"></a>4.2.2 List实现类之二：LinkedList</h6><ul>
<li><p>对于频繁的插入或删除元素的操作，建议使用LinkedList类，效率较高</p>
</li>
<li><p>新增方法：</p>
<ul>
<li>void addFirst(Object obj)</li>
<li>void addLast(Object obj)</li>
<li>Object getFirst()</li>
<li>Object getLast()</li>
<li>Object removeFirst()</li>
<li>Object removeLast()</li>
</ul>
</li>
<li><p>LinkedList：双向链表，内部是没有声明数组，而是定义了Node类型的first和last，用于记录首末元素。同时，定义内部类Node，作为LinkedList中保存数据的基本结构。Node除了保存数据，还定义了两个变量：</p>
<ul>
<li><p>prev变量记录前一个元素的位置</p>
</li>
<li><p>next变量记录下一个元素的位置</p>
</li>
<li><pre><code class="java">private static class Node&lt;E&gt; &#123;
    E item;
    Node&lt;E&gt; next;
    Node&lt;E&gt; prev;
    
    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next)&#123;
        this.item = element;
        this.next = next;
        this.prev = prev;
    &#125;
&#125;
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    ![image-20210724215014951](https:&#x2F;&#x2F;gitee.com&#x2F;xiongzero&#x2F;alienware_-pic-go&#x2F;raw&#x2F;master&#x2F;img&#x2F;20210724215016.png)</span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;java</span><br><span class="line">package Collection.List;</span><br><span class="line"></span><br><span class="line">import org.junit.Test;</span><br><span class="line"></span><br><span class="line">import java.util.LinkedList;</span><br><span class="line"></span><br><span class="line">public class LinkedListTest &#123;</span><br><span class="line">    @Test</span><br><span class="line">    public void test1()&#123;</span><br><span class="line">        LinkedList linkedList &#x3D; new LinkedList();</span><br><span class="line">        linkedList.add(123);</span><br><span class="line">        linkedList.addFirst(&quot;xiong&quot;);</span><br><span class="line">        linkedList.addLast(&quot;end&quot;);</span><br><span class="line">        System.out.println(linkedList);&#x2F;&#x2F;[xiong, 123, end]</span><br><span class="line"></span><br><span class="line">        System.out.println(linkedList.getFirst());&#x2F;&#x2F;xiong</span><br><span class="line">        System.out.println(linkedList.getLast());&#x2F;&#x2F;end</span><br><span class="line">        System.out.println(linkedList.removeFirst());&#x2F;&#x2F;xiong</span><br><span class="line">        System.out.println(linkedList);&#x2F;&#x2F;[123, end]</span><br><span class="line">        System.out.println(linkedList.removeLast());&#x2F;&#x2F;end</span><br><span class="line">        System.out.println(linkedList);&#x2F;&#x2F;[123]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
<h6 id="4-2-3-List实现类之三：Vector"><a href="#4-2-3-List实现类之三：Vector" class="headerlink" title="4.2.3 List实现类之三：Vector"></a>4.2.3 List实现类之三：Vector</h6><ul>
<li>Vector是一个古老的集合，JDK1.0就有了。大多数操作与ArrayList相同，区别之处在于Vector是线程安全的</li>
<li>在各种list中，最好把ArryList作为缺省选择。当插入、删除频繁时，使用LinkedList；Vector总是比ArrayList慢，所以尽量避免使用</li>
<li>新增方法：<ul>
<li>void addElement(Object obj)</li>
<li>void insertElementAt(Object obj, int index)</li>
<li>void setElementAt(Object obj, int index)</li>
<li>void removeElement(Object obj)</li>
<li>void removeAllElements()</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VectorTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Vector vector = <span class="keyword">new</span> Vector();</span><br><span class="line">        <span class="comment">//增：addElement(Object obj)</span></span><br><span class="line">        vector.addElement(<span class="number">123</span>);</span><br><span class="line">        vector.addElement(<span class="string">&quot;xiong&quot;</span>);</span><br><span class="line">        System.out.println(vector);<span class="comment">//[123, xiong]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//删：removeElement(Object obj)</span></span><br><span class="line">        vector.remove(<span class="keyword">new</span> Integer(<span class="number">123</span>));</span><br><span class="line">        System.out.println(vector);<span class="comment">//[xiong]</span></span><br><span class="line">        vector.remove(<span class="string">&quot;xiong&quot;</span>);</span><br><span class="line">        System.out.println(vector);<span class="comment">//[]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//插：insertElementAt(Object obj,int index)</span></span><br><span class="line">        vector.insertElementAt(<span class="string">&quot;Guet&quot;</span>,<span class="number">0</span>);</span><br><span class="line">        System.out.println(vector);<span class="comment">//[Guet]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//改：setElement(Object obj)</span></span><br><span class="line">        vector.set(<span class="number">0</span>,<span class="string">&quot;newString&quot;</span>);</span><br><span class="line">        System.out.println(vector);<span class="comment">//[newString]</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>面试题</strong></p>
<p>请问ArrayList/LinkedList/Vector的异同？谈谈你的理解？ArrayList底层是什么？扩容机制是什么？Vector和ArrayList的最大区别？</p>
<ul>
<li><p>ArrayList和LinkedList的异同</p>
<p>二者都是线程不安全的，相对于线程安全的Vector，执行效率高。</p>
<p>此外，ArrayList是实现了基于动态数组的数据结构，LinkedList基于链表的数据结构。对于随机访问get和set，ArrayList优于LinkedList，因为LinkedList要移动指针。对于新增和删除操作add(特指插入)和remove，LinkedList比较占优势，因为ArrayList要移动数据</p>
</li>
<li><p>ArrayList和Vector的区别</p>
<p>Vector和ArrayList几乎是完全相同的，唯一的区别在于Vector是同步类(synchronized)，属于强同步类。因此开销就比ArrayList要大，访问要慢。正常情况下，大多数的Java程序员使用ArrayList而不是Vector，因为同步完全可以由程序员自己控制。Vectro每次请求扩容其大小的2倍空间，而ArrayList是1.5倍。Vector还有一个子类Stack</p>
</li>
</ul>
<h4 id="5-Collection子接口二：Set"><a href="#5-Collection子接口二：Set" class="headerlink" title="5. Collection子接口二：Set"></a>5. Collection子接口二：Set</h4><h5 id="5-1-Set接口概述"><a href="#5-1-Set接口概述" class="headerlink" title="5.1 Set接口概述"></a>5.1 Set接口概述</h5><ul>
<li>Set接口是Collection的子接口，set接口没有提供给额外的方法</li>
<li>Set集合不允许包含相同的元素，如果试着把两个相同的元素加到同一个Set集合中，则添加操作失败</li>
<li>Set判断两个对象是否相同不是使用==运算符，而是根据equals()方法</li>
</ul>
<h5 id="5-2-Set接口方法"><a href="#5-2-Set接口方法" class="headerlink" title="5.2 Set接口方法"></a>5.2 Set接口方法</h5><h6 id="5-2-1-Set实现类之一：HashSet"><a href="#5-2-1-Set实现类之一：HashSet" class="headerlink" title="5.2.1 Set实现类之一：HashSet"></a>5.2.1 Set实现类之一：HashSet</h6><ul>
<li>HashSet是Set接口的典型实现，大多数时候使用Set集合时都使用这个实现类。</li>
<li>HashSet按Hash算法来存储集合中的元素，因此具有很好的存取、查找、删除性能</li>
<li>HashSet具有以下特点<ul>
<li>不能保证元素排列的顺序</li>
<li>HashSet不是线程安全的</li>
<li>集合元素可以是null</li>
</ul>
</li>
<li>HashSet集合判断两个元素相等的标准：两个对象通过hashCode()方法比较相等，并且两个对象的equals()方法返回值也相等</li>
<li>对于存放在Set容器中的对象，对应的类一定要重写equals()和hasCode(Object obj)方法，以实现对象相等规则。即：”相等的对象必须有相等的散列码”</li>
<li>向HashSet中添加元素的过程：<ul>
<li>当向HashSet集合中存入一个元素时，HashSet会调用该对象的hasCode()方法来得到该对象的hashCode值，然后根据hashCode值，通过某种散列函数决定该对象在HashSet底层数组中的存储位置。（<u>这个散列函数会与底层数组的长度相计算得到在数组中的下表，并且这种散列函数计算还尽可能保证均匀存储元素，越是散列分布，该散列函数设计的越好</u></li>
<li>如果两个元素的hashCode()值相等，会再继续调用equals方法，如果equals方法结果为true，添加失败；如果结果为false，那么会保存该元素，但是该数组的位置已经有元素了，那么会通过链表的方式继续连接</li>
<li>如果有两个元素的equals()方法返回true，但他们的hashCode()返回值不相等，hashSet将会把他们存储在不同的位置，但依然可以添加成功</li>
<li><img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726145851.png" alt="image-20210726145841304"></li>
</ul>
</li>
</ul>
<p><strong>重写hashCode()方法的基本原则</strong></p>
<ul>
<li>在程序运行时，同一个对象多次调用hashCode()方法应该返回相同的值</li>
<li>当两个对象的equals()方法比较返回true时，这两个对象的hashCode()方法的返回值也应相等</li>
<li>对象中用作equals()方法比较的Field，都应该用来计算hashCode值</li>
</ul>
<p><strong>重写equals()方法的基本原则</strong></p>
<ul>
<li>当一个类有自己特有的“逻辑相等”概念，当改写equals()的时候，总是要改写hashCode(),根据一个类的equals方法（改写后），两个截然不同的实例有可能在逻辑上是相等的，但是，根据Object.hashCode()方法，他们不仅仅是两个对象</li>
<li>因此，违反了“相等的对象必须具有相等的散列码”</li>
<li>结论：复写equals方法的时候一般都需要同时复写hashCode方法，通常参与计算hashCode的对象的属性也应该参与到equals()中进行计算</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashSetTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">        set.add(<span class="number">123</span>);</span><br><span class="line">        set.add(<span class="string">&quot;xiong&quot;</span>);</span><br><span class="line">        set.add(<span class="number">2345</span>);</span><br><span class="line">        set.add(<span class="keyword">true</span>);</span><br><span class="line">        </span><br><span class="line">        Iterator iterator = set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>结果不是按照添加顺序进行输出</p>
<blockquote>
<p>2345<br>123<br>xiong<br>true</p>
</blockquote>
<p><strong>Eclipse/IDEA工具里的hashCode()的重写</strong></p>
<p>以Eclipse/IDEA为例，在自定义类中可以调用工具自动重写equals和hashCode。问题：为什么用Eclipse/IDEA复写hashCode方法，有31这个数字？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object... values)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.hashCode(values);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">(Object a[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (a == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Object element : a)</span><br><span class="line">            result = <span class="number">31</span> * result + (element == <span class="keyword">null</span> ? <span class="number">0</span> : element.hashCode());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>选择系数的收要选择尽量大的系数。因为如果计算出来的hash地址越大，所谓的“冲突”就越少。查找起来效率也会提高。（减少冲突）</li>
<li>并且31只占用5bits，相乘造成数据溢出的概率小较小</li>
<li>31可以由i*31==(i&lt;&lt;5)-1来表示，现在很多虚拟机里都有做相关优化。（提高算法效率）</li>
<li>31是一个素数，素数的作用就是如果我用一个数字来乘以这个素数，那么最终出来的结果只能被素数本身和被乘数还有1来整除（减少冲突）</li>
</ul>
<h6 id="5-2-2-Set实现类之二：LinkedHashSet"><a href="#5-2-2-Set实现类之二：LinkedHashSet" class="headerlink" title="5.2.2 Set实现类之二：LinkedHashSet"></a>5.2.2 Set实现类之二：LinkedHashSet</h6><ul>
<li>LinkedHashSet是HashSet的子类</li>
<li>LinkedHashSet根据元素的hashCode值来确定元素的存储位置，但它同时使用双向链表维护元素的次序，这使得元素看起来是以插入顺序保存的</li>
<li>LinkedHashSet插入性能略低于HashSet，但在迭代器访问Set全部元素时有很好的性能</li>
<li>LinkedHashSet不允许集合元素重复</li>
</ul>
<p><img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726152025.png" alt="image-20210726152024176"></p>
<ul>
<li><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection.Set;<span class="keyword">import</span> org.junit.Test;<span class="keyword">import</span> java.util.Iterator;<span class="keyword">import</span> java.util.LinkedHashSet;<span class="keyword">import</span> java.util.Set;<span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedHashSetTest</span> </span>&#123;    <span class="meta">@Test</span>    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;        Set set = <span class="keyword">new</span> LinkedHashSet();        set.add(<span class="number">123</span>);        set.add(<span class="string">&quot;xiong&quot;</span>);        set.add(<span class="number">2345</span>);        set.add(<span class="keyword">true</span>);        Iterator iterator = set.iterator();        <span class="keyword">while</span> (iterator.hasNext())&#123;            System.out.println(iterator.next());        &#125;    &#125;&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>结果按照添加顺序进行输出</p>
<blockquote>
<p>123<br>xiong<br>2345<br>true</p>
</blockquote>
<p><strong>面试题</strong>：考察存储方式：先算hashCode再进行equals()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashSetTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Person person1 = <span class="keyword">new</span> Person(<span class="string">&quot;xiong&quot;</span>, <span class="number">23</span>);</span><br><span class="line">        Person person2 = <span class="keyword">new</span> Person(<span class="string">&quot;zhuo&quot;</span>, <span class="number">12</span>);</span><br><span class="line">        Set set = <span class="keyword">new</span> HashSet();</span><br><span class="line">        set.add(person1);</span><br><span class="line">        set.add(person2);</span><br><span class="line">        person1.setName(<span class="string">&quot;Guet&quot;</span>);</span><br><span class="line">        set.remove(person1);</span><br><span class="line">        System.out.println(set);<span class="comment">//[Person&#123;name=&#x27;Guet&#x27;, age=23&#125;, Person&#123;name=&#x27;zhuo&#x27;, age=12&#125;]</span></span><br><span class="line"></span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;Guet&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        System.out.println(set);<span class="comment">//[Person&#123;name=&#x27;Guet&#x27;, age=23&#125;, Person&#123;name=&#x27;Guet&#x27;, age=23&#125;, Person&#123;name=&#x27;zhuo&#x27;, age=12&#125;]</span></span><br><span class="line"></span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;xiong&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        System.out.println(set);<span class="comment">//[Person&#123;name=&#x27;Guet&#x27;, age=23&#125;, Person&#123;name=&#x27;xiong&#x27;, age=23&#125;, Person&#123;name=&#x27;Guet&#x27;, age=23&#125;, Person&#123;name=&#x27;zhuo&#x27;, age=12&#125;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中Person类中重写了hashCode()和equal()方法</p>
<blockquote>
<p>[Person{name=’Guet’, age=23}, Person{name=’zhuo’, age=12}]<br>[Person{name=’Guet’, age=23}, Person{name=’Guet’, age=23}, Person{name=’zhuo’, age=12}]<br>[Person{name=’Guet’, age=23}, Person{name=’xiong’, age=23}, Person{name=’Guet’, age=23}, Person{name=’zhuo’, age=12}]</p>
</blockquote>
<h6 id="Set实现类之三：TreeSet"><a href="#Set实现类之三：TreeSet" class="headerlink" title="Set实现类之三：TreeSet"></a>Set实现类之三：TreeSet</h6><ul>
<li>TreeSet是SortedSet接口的实现类，TreeSet可以确保集合元素处于排序状态。</li>
<li>TreeSet底层使用红黑树结构存储数据</li>
<li>新增的方法如下：（了解）<ul>
<li>Comparator comparator()</li>
<li>Object first()</li>
<li>Object last()</li>
<li>Object lower(Object e)</li>
<li>Object higher(Object e)</li>
<li>SortedSet subSet(fromElement, toElement)</li>
<li>SortedSet headSet(toElement)</li>
<li>SortedSet tailSet(fromElement)</li>
</ul>
</li>
<li>TreeSet两种排序方法：自然排序和定制排序。默认情况下，TreeSet采用自然排序</li>
</ul>
<p><strong>排序——自然排序</strong></p>
<ul>
<li>自然排序：TreeSet会调用集合元素的compareTo(Object obj)方法来比较元素之间的大小关系，然后将集合元素按升序（默认情况）排列</li>
<li>如果试图把一个对象添加到TreeSet时，则该对象的类必须实现Comparable接口<ul>
<li>实现Comparable的类必须实现compareTo(Object obj)方法，两个对象即通过compareTo(Object obj)方法的返回值来比较大小</li>
</ul>
</li>
<li>Comparable的典型实现：<ul>
<li>BigDecimal、BigInteger以及所有的数值型对应的包装类：按他们对应的数值大小进行比较</li>
<li>Character：按字符的unicode值来进行比较</li>
<li>Boolean：true对应的包装类实例大于false对应包装类的实例</li>
<li>String：按字符串中字符的unicode值进行比较</li>
<li>Date、Time：后边的时间、日期比前面的时间、日期大</li>
</ul>
</li>
<li>向TreeSet中添加元素时，只有第一个元素无需比较compareTo()方法，后面添加的所有元素都会调用compareTo()方法进行比较</li>
<li>因为只有相同类的两个实例才会比较大小，所以向TreeSet中添加的应该是同一个类的对象</li>
<li>对于TreeSet集合而言，它判断两个对象是否相等的唯一标准是：两个对象通过compareTo(Object obj)方法比较返回值</li>
<li>当需要把一个对象放入TreeSet中，重写该对象对应的equals()方法时，应保证该方法与compareTo(Object obj)方法有一致的结果：如果两个对象通过equals()方法比较返回true，则通过compareTo(Object obj)方法比较应该返回0</li>
</ul>
<p><strong>排序——定制排序</strong></p>
<ul>
<li>TreeSet的自然排序要求元素所属的类实现Comparable接口，如果元素所属的类没有实现Comparable接口，或不希望按照升序（默认情况）的方式排列元素或希望按照其他属性大小来进行排序，则考虑使用定制排序。定制排序，通过Comparator接口来实现。需要重写compare(T o1, T o2)方法</li>
<li>利用int compare(T o1, T 02)方法，比较o1和o2的大小：如果方法返回正整数，则表示o1大于o2；如果返回负整数，表示o1小于o2</li>
<li>要实现定制排序，需要将实现Comparator接口的实例作为形参传递给TreeSet构造器</li>
<li>此时，仍然只能向TreeSet中添加类型相同的对象。否则发生ClassCastException异常</li>
<li>使用定制排序判断两个元素相等的标准是：通过Comparator比较返回值是否为0</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">            先按姓名排序，当出现同名时，按照年龄大小进行排序</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;比较对象不能为空&quot;</span>);</span><br><span class="line">        Person person = (Person) o;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.name.compareTo(person.name) == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> -Integer.compare(<span class="keyword">this</span>.age, person.age);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">this</span>.name.compareTo(person.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Person person = (Person) o;</span><br><span class="line">        <span class="keyword">return</span> age == person.age &amp;&amp; Objects.equals(name, person.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collection.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Set treeSet = <span class="keyword">new</span> TreeSet();</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Tom&quot;</span>,<span class="number">12</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Jerry&quot;</span>, <span class="number">32</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Jim&quot;</span>,<span class="number">2</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Mike&quot;</span>,<span class="number">65</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Mary&quot;</span>,<span class="number">33</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Jack&quot;</span>,<span class="number">33</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Jack&quot;</span>,<span class="number">56</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(treeSet);</span><br><span class="line">        <span class="comment">//使用类实现的CompareTo()方法：按名字升序，年龄降序进行排列</span></span><br><span class="line">        Iterator iterator = treeSet.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        定制排序：按照年龄升序，名字降序排列</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Comparator com = <span class="keyword">new</span> Comparator() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(o1 <span class="keyword">instanceof</span> Person &amp;&amp; o2 <span class="keyword">instanceof</span> Person)&#123;</span><br><span class="line">                    Person p1 = (Person) o1;</span><br><span class="line">                    Person p2 = (Person) o2;</span><br><span class="line">                    <span class="keyword">int</span> co =  Integer.compare(p1.getAge(),p2.getAge());</span><br><span class="line">                    <span class="keyword">if</span>(co == <span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">return</span> -p1.getName().compareTo(p2.getName());</span><br><span class="line">                    &#125;<span class="keyword">else</span> <span class="keyword">return</span> co;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;传入的数据类型不匹配&quot;</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Set treeSet = <span class="keyword">new</span> TreeSet(com);</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Tom&quot;</span>,<span class="number">12</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Jerry&quot;</span>, <span class="number">32</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Jim&quot;</span>,<span class="number">2</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Mike&quot;</span>,<span class="number">65</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Mary&quot;</span>,<span class="number">33</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Jack&quot;</span>,<span class="number">33</span>));</span><br><span class="line">        treeSet.add(<span class="keyword">new</span> Person(<span class="string">&quot;Jack&quot;</span>,<span class="number">56</span>));</span><br><span class="line"></span><br><span class="line">        Iterator iterator = treeSet.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="6-Map接口"><a href="#6-Map接口" class="headerlink" title="6. Map接口"></a>6. Map接口</h4><p><strong>Map接口继承树</strong></p>
<img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726210625.png" alt="image-20210726210624429" style="zoom:80%;" />

<h5 id="6-1-Map接口概述"><a href="#6-1-Map接口概述" class="headerlink" title="6.1 Map接口概述"></a>6.1 Map接口概述</h5><ul>
<li>Map与Collection并列存在。用于保存具有映射关系的数据：key-value</li>
<li>Map中的key和value都可以是任何引用类型的数据</li>
<li>Map里的key用Set来存放，不允许重复，即同一个Map对象所对应的类，需重写hashCOde()和equals()方法</li>
<li>常用Sting类作为Map的”键”</li>
<li>key和value之间存在单向一对一关系，即能通过指定的key总能找到唯一的、确定的value</li>
<li>Map接口的常用实现类：HashMap、TreeMap、LinkedHashMap和Properties。其中，HashMap是Map接口使用频率最高的实现类</li>
<li><img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726211324.png" alt="image-20210726211323587" style="zoom:80%;" />

</li>
</ul>
<h5 id="6-2-Map接口：常用方法"><a href="#6-2-Map接口：常用方法" class="headerlink" title="6.2 Map接口：常用方法"></a>6.2 Map接口：常用方法</h5><ul>
<li>添加、删除、修改操作<ul>
<li>Object put(Object key, Object value)：将指定key-value添加到（或修改）当前那map对象中</li>
<li>void putAll(Map m)：将m中的所有key-value对存放到当前map中</li>
<li>Object remove(Object key)：移除指定的key的key-value对，并返回value</li>
<li>void clear()：清空当前map中的所有数据</li>
</ul>
</li>
<li>元素查询的操作<ul>
<li>Object get(Object key)：获取指定key对应的value</li>
<li>boolean containsKey(Object key)：是否包含指定的key</li>
<li>boolean containsValue(Object value)：是否包含指定的value</li>
<li>int size()：返回map中key-value对的个数</li>
<li>boolean isEmpty()：判断当前的Map是否为空</li>
<li>boolean equals(Object obj)：判断当前map和参数对象obj是否相等</li>
</ul>
</li>
<li>元视图操作的方法<ul>
<li>Set keySet()：返回所有key构成的Set集合</li>
<li>Collection values()：返回所有value构成的Collection集合</li>
<li>Set entrySet()：返回所有key-value对所构成的Set集合</li>
</ul>
</li>
</ul>
<h5 id="6-3-Map实现类之一：HashMap"><a href="#6-3-Map实现类之一：HashMap" class="headerlink" title="6.3 Map实现类之一：HashMap"></a>6.3 Map实现类之一：HashMap</h5><ul>
<li>HashMap是Map接口使用频率最高的实现类</li>
<li>允许使用null键和null值，与HashSet一样，不保证映射的顺序</li>
<li>所有的key构成的集合是Set：无序的、不可重复的。所以，key所在的类要重写：equals()和hashCode()</li>
<li>一个key-value构成一个entry</li>
<li>所有的entry构成的集合是Set：无序的、不可重复的</li>
<li>HashMap判断两个key相等的标准是：两个key通过equals()方法返回true,hashCode值也相等</li>
<li>HashMap判断两个value相等的标准是：两个value通过equals()方法返回true</li>
</ul>
<h6 id="6-3-1-HashMap的存储结构"><a href="#6-3-1-HashMap的存储结构" class="headerlink" title="6.3.1 HashMap的存储结构"></a>6.3.1 HashMap的存储结构</h6><p>JDK 7及以前版本：HashMap是数组+链表结构(即为链地址法)</p>
<img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726213051.png" alt="image-20210726213049926" style="zoom:80%;" />

<p>JDK 8版本发布以后：HashMap是数组+链表+红黑树实现。</p>
<img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210726213132.png" alt="image-20210726213131468" style="zoom:80%;" />

<h6 id="6-3-2-HashMap源码中的重要常量"><a href="#6-3-2-HashMap源码中的重要常量" class="headerlink" title="6.3.2 HashMap源码中的重要常量"></a>6.3.2 HashMap源码中的重要常量</h6><p>DEFAULT_INITIAL_CAPACITY：HashMap的默认容量，16</p>
<p>MAXMUN_CAPACITY：HashMap的最大支持容量，2^30</p>
<p>DEFAULT_LOAD_FACTOR：HashMap的默认加载因子</p>
<p>TREEIFY_THRESHOLD：Bucket中链表长度大于该默认值，转化为红黑树</p>
<p>UNTREEIFY_THRESHOLD：Bucket中红黑树存储的Node小于该默认值，转化为链表</p>
<p>MIN_TREEIFY_CAPACITY：桶中的Node被树化时最小的hash表容量。（当桶中Node的 数量大到需要变红黑树时，若hash表容量小于MIN_TREEIFY_CAPACITY时，此时应执行 resize扩容操作这个MIN_TREEIFY_CAPACITY的值至少是TREEIFY_THRESHOLD的4 倍。）</p>
<p>table：存储元素的数组，总是2的n次幂 </p>
<p>entrySet：存储具体元素的集 </p>
<p>size：HashMap中存储的键值对的数量 </p>
<p>modCount：HashMap扩容和结构改变的次数。 </p>
<p>threshold：扩容的临界值，=容量*填充因子 </p>
<p>loadFactor：填充因子</p>
<h6 id="6-3-3-HashMap的存储结构：JDK-1-8之前"><a href="#6-3-3-HashMap的存储结构：JDK-1-8之前" class="headerlink" title="6.3.3 HashMap的存储结构：JDK 1.8之前"></a>6.3.3 HashMap的存储结构：JDK 1.8之前</h6><ul>
<li>HashMap的内部存储结构其实是数组和链表的结合。当实例化一个HashMap时，系统会创建一个长度为Capacity的Entry数组，这个长度在哈希表中被称为容量(Capacity)，在这个数组红可以存放元素的位置我们称为”桶“(bucket)，每个bucket都有自己的索引，系统更可以更具索引快速的查找bucket中的元素</li>
<li>每个bucket中存储一个元素，即一个Entry对象，但每一个Entry对象可以带一个引用变量，用于指向下一元素，因此，在一个桶中，就有可能生成一个Entry链。而且新添加的元素作为链表的head</li>
<li>添加元素的过程<br>向HashMap中添加entry1(key，value)，需要首先计算entry1中key的哈希值(根据 key所在类的hashCode()计算得到)，此哈希值经过处理以后，得到在底层Entry[]数 组中要存储的位置i。如果位置i上没有元素，则entry1直接添加成功。如果位置i上 已经存在entry2(或还有链表存在的entry3，entry4)，则需要通过循环的方法，依次 比较entry1中key和其他的entry。如果彼此hash值不同，则直接添加成功。如果 hash值不同，继续比较二者是否equals。如果返回值为true，则使用entry1的value 去替换equals为true的entry的value。如果遍历一遍以后，发现所有的equals返回都 为false,则entry1仍可添加成功。entry1指向原有的entry元素。</li>
</ul>
<p><strong>HashMap的扩容</strong></p>
<p>当HashMap中的元素越来越多的时候，hash冲突的几率也就越来越高，因为数组的 长度是固定的。所以为了提高查询的效率，就要对HashMap的数组进行扩容，而在 HashMap数组扩容之后，最消耗性能的点就出现了：原数组中的数据必须重新计算 其在新数组中的位置，并放进去，这就是resize。</p>
<p><strong>那么HashMap什么时候进行扩容呢？</strong></p>
<p>当HashMap中的元素个数超过数组大小(数组总大小length,不是数组中个数 size)* loadFactor 时 ， 就 会 进 行 数 组 扩 容 ， loadFactor 的默认 值 (DEFAULT_LOAD_FACTOR)为0.75，这是一个折中的取值。也就是说，默认情况 下，数组大小(DEFAULT_INITIAL_CAPACITY)为16，那么当HashMap中元素个数 超过16* 0.75=12（这个值就是代码中的threshold值，也叫做临界值）的时候，就把 数组的大小扩展为 2*16=32，即扩大一倍，然后重新计算每个元素在数组中的位置， 而这是一个非常消耗性能的操作，所以如果我们已经预知HashMap中元素的个数， 那么预设元素的个数能够有效的提高HashMap的性能</p>
<h6 id="6-3-4-HashMap的存储结构：JDK-1-8"><a href="#6-3-4-HashMap的存储结构：JDK-1-8" class="headerlink" title="6.3.4 HashMap的存储结构：JDK 1.8"></a>6.3.4 HashMap的存储结构：JDK 1.8</h6><ul>
<li>HashMap的内部存储结构其实是数组+链表+树的结合。当实例化一个 HashMap时，会初始化initialCapacity和loadFactor，在put第一对映射关系 时，系统会创建一个长度为initialCapacity的Node数组，这个长度在哈希表 中被称为容量(Capacity)，在这个数组中可以存放元素的位置我们称之为 “桶”(bucket)，每个bucket都有自己的索引，系统可以根据索引快速的查 找bucket中的元素。</li>
<li>每个bucket中存储一个元素，即一个Node对象，但每一个Node对象可以带 一个引用变量next，用于指向下一个元素，因此，在一个桶中，就有可能 生成一个Node链。也可能是一个一个TreeNode对象，每一个TreeNode对象 可以有两个叶子结点left和right，因此，在一个桶中，就有可能生成一个 TreeNode树。而新添加的元素作为链表的last，或树的叶子结点。</li>
</ul>
<p><strong>那么HashMap什么时候进行扩容和树形化呢？</strong></p>
<p>​        当HashMap中的元素个数超过数组大小(数组总大小length,不是数组中个数 size)* loadFactor 时 ， 就会进行数组扩容 ， loadFactor 的默认 值 (DEFAULT_LOAD_FACTOR)为0.75，这是一个折中的取值。也就是说，默认 情况下，数组大小(DEFAULT_INITIAL_CAPACITY)为16，那么当HashMap中 元素个数超过16* 0.75=12（这个值就是代码中的threshold值，也叫做临界值） 的时候，就把数组的大小扩展为 2*16=32，即扩大一倍，然后重新计算每个元 素在数组中的位置，而这是一个非常消耗性能的操作，所以如果我们已经预知 HashMap中元素的个数，那么预设元素的个数能够有效的提高HashMap的性能。 当HashMap中的其中一个链的对象个数如果达到了8个，此时如果capacity没有 达到64，那么HashMap会先扩容解决，如果已经达到了64，那么这个链会变成 树，结点类型由Node变成TreeNode类型。当然，如果当映射关系被移除后， 下次resize方法时判断树的结点个数低于6个，也会把树再转为链表。</p>
<p><strong>关于映射关系的key是否可以修改？answer：不要修改</strong></p>
<p>​        映射关系存储到HashMap中会存储key的hash值，这样就不用在每次查找时重新计算 每一个Entry或Node（TreeNode）的hash值了，因此如果已经put到Map中的映射关 系，再修改key的属性，而这个属性又参与hashcode值的计算，那么会导致匹配不上。</p>
<h6 id="6-3-5-总结：JDK1-8相较于之前的变化："><a href="#6-3-5-总结：JDK1-8相较于之前的变化：" class="headerlink" title="6.3.5 总结：JDK1.8相较于之前的变化："></a>6.3.5 总结：JDK1.8相较于之前的变化：</h6><p>1.HashMap map = new HashMap();//默认情况下，先不创建长度为16的数组 </p>
<p>2.当首次调用map.put()时，再创建长度为16的数组 </p>
<p>3.数组为Node类型，在jdk7中称为Entry类型 </p>
<p>4.形成链表结构时，新添加的key-value对在链表的尾部（七上八下）</p>
<p>5.当数组指定索引位置的链表长度&gt;8时，且map中的数组的长度&gt; 64时，此索引位置 上的所有key-value对使用红黑树进行存储</p>
<p><strong>面试题：负载因子值的大小，对HashMap有什么影响</strong></p>
<ul>
<li>负载因子的大小决定了HashMap的数据密度。</li>
<li>负载因子越大密度越大，发生碰撞的几率越高，数组中的链表越容易长, 造成查询或插入时的比较次数增多，性能会下降。</li>
<li>负载因子越小，就越容易触发扩容，数据密度也越小，意味着发生碰撞的几率越小，数组中的链表也就越短，查询和插入时比较的次数也越小，性能会更高。但是会浪费一定的内容空间。而且经常扩容也会影响性能，建议初始化预设大一点的空间。</li>
<li>按照其他语言的参考及研究经验，会考虑将负载因子设置为0.7~0.75，此 时平均检索长度接近于常数。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashMapTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    Map提供的方法进行测试</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Map map1 = <span class="keyword">new</span> HashMap();</span><br><span class="line">        Map map2 = <span class="keyword">new</span> HashMap();</span><br><span class="line">        <span class="comment">//添加：put(Obejct key, Object value) putAll(Map m)</span></span><br><span class="line">        map1.put(<span class="string">&quot;xiong&quot;</span>,<span class="number">23</span>);</span><br><span class="line">        map1.put(<span class="string">&quot;zhuo&quot;</span>, <span class="number">24</span>);</span><br><span class="line">        map2.putAll(map1);</span><br><span class="line">        System.out.println(map1);<span class="comment">//&#123;zhuo=24, xiong=23&#125;</span></span><br><span class="line">        System.out.println(map2);<span class="comment">//&#123;zhuo=24, xiong=23&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//删除：remove(Object key) remove(Object key, Object value)</span></span><br><span class="line">        System.out.println(map1.remove(<span class="string">&quot;xiong&quot;</span>));<span class="comment">//23</span></span><br><span class="line">        System.out.println(map1.remove(<span class="string">&quot;zhuo&quot;</span>, <span class="number">24</span>));<span class="comment">//true</span></span><br><span class="line">        System.out.println(map1);<span class="comment">//&#123;&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//修改：put(Object key,Object value)</span></span><br><span class="line">        System.out.println(map2.put(<span class="string">&quot;xiong&quot;</span>, <span class="number">22</span>));<span class="comment">//23</span></span><br><span class="line">        System.out.println(map2);<span class="comment">//&#123;zhuo=24, xiong=22&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//清空：clear()</span></span><br><span class="line">        System.out.println(map1.put(<span class="string">&quot;Guet&quot;</span>, <span class="string">&quot;花江&quot;</span>));<span class="comment">//null</span></span><br><span class="line">        System.out.println(map1.put(<span class="string">&quot;Guet&quot;</span>, <span class="string">&quot;花江&quot;</span>));<span class="comment">//花江</span></span><br><span class="line">        map1.clear();</span><br><span class="line">        System.out.println(map1);<span class="comment">//&#123;&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//元素查询操作</span></span><br><span class="line">        System.out.println(map2.get(<span class="string">&quot;xiong&quot;</span>));<span class="comment">//22</span></span><br><span class="line">        System.out.println(map2.containsKey(<span class="string">&quot;xiong&quot;</span>));<span class="comment">//true</span></span><br><span class="line">        System.out.println(map2.containsValue(<span class="number">22</span>));<span class="comment">//true</span></span><br><span class="line">        System.out.println(map2.size());<span class="comment">//2</span></span><br><span class="line">        System.out.println(map2.isEmpty());<span class="comment">//false</span></span><br><span class="line">        System.out.println(map2.equals(map1));<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//元视图操作</span></span><br><span class="line">        Set set = map2.keySet();</span><br><span class="line">        System.out.println(set);<span class="comment">//[zhuo, xiong]</span></span><br><span class="line">        Collection coll = map2.values();</span><br><span class="line">        System.out.println(coll);<span class="comment">//[24, 22]</span></span><br><span class="line">        Set set1 = map2.entrySet();</span><br><span class="line">        System.out.println(set1);<span class="comment">//[zhuo=24, xiong=22]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//遍历</span></span><br><span class="line">        <span class="comment">//遍历所有的key集</span></span><br><span class="line">        Set set2 = map2.keySet();</span><br><span class="line">        Iterator iterator = set2.iterator();</span><br><span class="line">        <span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());<span class="comment">//zhuo  xiong</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//遍历所有的value集</span></span><br><span class="line">        Collection collection = map2.values();</span><br><span class="line">        iterator = collection.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());<span class="comment">//24 22</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//遍历所有的key-value</span></span><br><span class="line">        <span class="comment">//方式一：entrySet()</span></span><br><span class="line">        Set set3 = map2.entrySet();</span><br><span class="line">        iterator = set3.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            Object obj = iterator.next();</span><br><span class="line">            <span class="comment">//entrySet集合中的元素都是entry</span></span><br><span class="line">            Map.Entry entry = (Map.Entry)obj;</span><br><span class="line">            System.out.println(entry.getKey() + <span class="string">&quot;----&gt;&quot;</span> + entry.getValue());</span><br><span class="line">            <span class="comment">//zhuo----&gt;24 xiong----&gt;22</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//方式二；</span></span><br><span class="line">        Set set4 = map2.keySet();</span><br><span class="line">        iterator = set4.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            Object key = iterator.next();</span><br><span class="line">            Object value = map2.get(key);</span><br><span class="line">            System.out.println(key + <span class="string">&quot;---&gt;&quot;</span> + value);<span class="comment">//zhuo---&gt;24 xiong---&gt;22</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="6-4-Map实现类之二：LinkedHashMap"><a href="#6-4-Map实现类之二：LinkedHashMap" class="headerlink" title="6.4 Map实现类之二：LinkedHashMap"></a>6.4 Map实现类之二：LinkedHashMap</h5><ul>
<li><p>LinkedHashMap是HashMap的子类</p>
</li>
<li><p>在HashMap存储结构的基础上，使用了一对双向链表来记录添加的顺序</p>
</li>
<li><p>与LinkedHashSet类似，LinkedHashMap可以维护Map的迭代顺序：迭代顺序与Key-Value对的插入顺序一致</p>
</li>
<li><p>HashMap中的内部类：Node</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">	<span class="keyword">final</span> <span class="keyword">int</span> hash;</span><br><span class="line">	<span class="keyword">final</span> K key;</span><br><span class="line">	V value;</span><br><span class="line">	Node&lt;K,V&gt; next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>LinkedHashMap中的内部类：Entry</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">HashMap</span>.<span class="title">Node</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">	Entry&lt;K,V&gt; before, after;</span><br><span class="line">	Entry(<span class="keyword">int</span> hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span><br><span class="line">	<span class="keyword">super</span>(hash, key, value, next);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedHashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedHashMapTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Map map = <span class="keyword">new</span> LinkedHashMap();</span><br><span class="line">        map.put(<span class="string">&quot;zhuo&quot;</span>,<span class="number">23</span>);</span><br><span class="line">        map.put(<span class="string">&quot;xiong&quot;</span>,<span class="number">24</span>);</span><br><span class="line">        map.put(<span class="string">&quot;熊&quot;</span>,<span class="number">23</span>);</span><br><span class="line">        System.out.println(map);<span class="comment">//&#123;zhuo=23, xiong=24, 熊=23&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h6 id="6-4-1-Map实现类之三：TreeMap"><a href="#6-4-1-Map实现类之三：TreeMap" class="headerlink" title="6.4.1 Map实现类之三：TreeMap"></a>6.4.1 Map实现类之三：TreeMap</h6><ul>
<li>TreeMap存储Key-Value对时，需要根据key-value对进行排序。TreeMap可以保证所有的Key-Value对处于有序状态</li>
<li>TreeSet底层使用红黑树结构存储数据</li>
<li>TreeMap的Key排序：<ul>
<li>自然排序：TreeMap的所有Key必须实现Comparable接口，而且所有的Key应该时同一个类的对象，否则将会抛出ClassCastException</li>
<li>定制排序： 创建TreeMap时，传入一个Comparator对象，该对象负责对TreeMap中的所有key进行排序。此时不需要Map的Key实现Comparable接口</li>
</ul>
</li>
<li>TreeMap判断两个key相等的标准：两个key通过compareTo()方法或者compare()方法返回0</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeMapTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Map treeMap = <span class="keyword">new</span> TreeMap();</span><br><span class="line">        treeMap.put(<span class="keyword">new</span> Person(<span class="string">&quot;Tom&quot;</span>,<span class="number">23</span>),<span class="number">98</span>);</span><br><span class="line">        treeMap.put(<span class="keyword">new</span> Person(<span class="string">&quot;Jerry&quot;</span>,<span class="number">32</span>),<span class="number">89</span>);</span><br><span class="line">        treeMap.put(<span class="keyword">new</span> Person(<span class="string">&quot;Jack&quot;</span>,<span class="number">20</span>),<span class="number">76</span>);</span><br><span class="line">        treeMap.put(<span class="keyword">new</span> Person(<span class="string">&quot;Rose&quot;</span>,<span class="number">18</span>),<span class="number">100</span>);</span><br><span class="line">        System.out.println(treeMap);</span><br><span class="line">        <span class="comment">//&#123;Person&#123;name=&#x27;Jack&#x27;, age=20&#125;=76, Person&#123;name=&#x27;Jerry&#x27;, age=32&#125;=89, Person&#123;name=&#x27;Rose&#x27;, age=18&#125;=100, Person&#123;name=&#x27;Tom&#x27;, age=23&#125;=98&#125;</span></span><br><span class="line"></span><br><span class="line">        Comparator comparable = <span class="keyword">new</span> Comparator() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(o1 == o2) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span>(o1 == <span class="keyword">null</span> || o2 == <span class="keyword">null</span> || o1.getClass() != o2.getClass()) <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;二者类型不匹配&quot;</span>);</span><br><span class="line">                <span class="keyword">if</span>(o1 <span class="keyword">instanceof</span> Person &amp;&amp; o2 <span class="keyword">instanceof</span> Person)&#123;</span><br><span class="line">                    Person p1 = (Person) o1;</span><br><span class="line">                    Person p2 = (Person) o2;</span><br><span class="line">                    <span class="keyword">int</span> com = p1.getName().compareTo(p2.getName());</span><br><span class="line">                    <span class="keyword">if</span>(com != <span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">return</span> -com;</span><br><span class="line">                    &#125;<span class="keyword">else</span> <span class="keyword">return</span> -Integer.compare(p1.getAge(),p2.getAge());</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;传入参数类型有误&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        Map map = <span class="keyword">new</span> TreeMap(comparable);</span><br><span class="line">        map.put(<span class="keyword">new</span> Person(<span class="string">&quot;Tom&quot;</span>,<span class="number">23</span>),<span class="number">98</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> Person(<span class="string">&quot;Jerry&quot;</span>,<span class="number">32</span>),<span class="number">89</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> Person(<span class="string">&quot;Jack&quot;</span>,<span class="number">20</span>),<span class="number">76</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> Person(<span class="string">&quot;Rose&quot;</span>,<span class="number">18</span>),<span class="number">100</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">//&#123;Person&#123;name=&#x27;Tom&#x27;, age=23&#125;=98, Person&#123;name=&#x27;Rose&#x27;, age=18&#125;=100, Person&#123;name=&#x27;Jerry&#x27;, age=32&#125;=89, Person&#123;name=&#x27;Jack&#x27;, age=20&#125;=76&#125;</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;不同数据类型无法比较&quot;</span>);</span><br><span class="line">        Person person = (Person) o;</span><br><span class="line">        <span class="keyword">int</span> com = name.compareTo(person.name);</span><br><span class="line">        <span class="keyword">if</span>(com != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> com;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">return</span> Integer.compare(age, person.age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Person person = (Person) o;</span><br><span class="line">        <span class="keyword">return</span> age == person.age &amp;&amp; Objects.equals(name, person.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="6-4-2-Map实现类之四：Hashtable"><a href="#6-4-2-Map实现类之四：Hashtable" class="headerlink" title="6.4.2 Map实现类之四：Hashtable"></a>6.4.2 Map实现类之四：Hashtable</h6><ul>
<li>Hashtable是一个古老的Map实现类，JDK1.0就提供了。不同于HashMap，Hashtable时线程安全的</li>
<li>Hatable实现原理和HashMap相同，功能相同。底层都使用哈希表结构，查询速度快，很多情况下可以互用</li>
<li>与HashMap不同，Hashtable不允许使用null作为key和value</li>
<li>与HashMap一样，Hashtable也不能保证其中Key-Value的顺序</li>
<li>Hashtable判断两个key相等、两个value相等的标准，与HashMap一致</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Hashtable;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashtableTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Map Hashtable = <span class="keyword">new</span> Hashtable();</span><br><span class="line">        Hashtable.put(<span class="string">&quot;xiong&quot;</span>,<span class="string">&quot;tianmen&quot;</span>);</span><br><span class="line">        Hashtable.put(<span class="string">&quot;zhuo&quot;</span>,<span class="string">&quot;guangxi&quot;</span>);</span><br><span class="line">        Hashtable.put(<span class="string">&quot;guet&quot;</span>,<span class="string">&quot;huajaing&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(Hashtable);<span class="comment">//&#123;zhuo=guangxi, xiong=tianmen, guet=huajaing&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="6-4-3-Map实现类之五：Properties"><a href="#6-4-3-Map实现类之五：Properties" class="headerlink" title="6.4.3 Map实现类之五：Properties"></a>6.4.3 Map实现类之五：Properties</h6><ul>
<li>Properties类是Hashtable的子类，该对象用于处理属性文件</li>
<li>由于属性文件里的key、value都是字符串类型，所以Properties里的key和value都是字符串类型</li>
<li>存取数据时，建议使用setProperty(String key, String value)方法和getProperty(String key)方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PropertiesTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Properties:常用来处理配置文件。key和value都是String类型</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>  </span>&#123;</span><br><span class="line">        FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Properties pros = <span class="keyword">new</span> Properties();</span><br><span class="line"></span><br><span class="line">            fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;C:\\Users\\xiong\\IdeaProjects\\out\\jdbc.properties&quot;</span>);</span><br><span class="line"><span class="comment">//            fis = new FileInputStream(&quot;jdbc.properties&quot;);</span></span><br><span class="line">            pros.load(fis);<span class="comment">//加载流对应的文件</span></span><br><span class="line"></span><br><span class="line">            String name = pros.getProperty(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">            String password = pros.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;name = &quot;</span> + name + <span class="string">&quot;, password = &quot;</span> + password);<span class="comment">//name = 熊卓, password = abc123</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fis.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/xiongzero/alienware_-pic-go/raw/master/img/20210728112559.png" alt="image-20210728112549093"></p>
<h4 id="7-Collections工具类"><a href="#7-Collections工具类" class="headerlink" title="7. Collections工具类"></a>7. Collections工具类</h4><ul>
<li>Collection是操作Set、List和Map等集合的工具类</li>
<li>Collections中提供了一系列静态的方法对集合元素进行排序、查询和修改等操作。还提供了对集合对象设置不可变、对集合对象实现同步控制的方法</li>
<li>排序操作：（均为static方法）<ul>
<li>reverse(List)：反转List中元素的顺序</li>
<li>shuffle(List)：对List集合元素进行随机排序</li>
<li>sort(List)：根据元素的自然顺序对指定List集合元素按升序排序</li>
<li>sort(LIst, Comparator)：根据指定的Comparator产生的顺序对List集合元素进行排序</li>
<li>swap(List, int, int)：将指定list集合中的i处元素和j处元素进行交换</li>
</ul>
</li>
</ul>
<h5 id="7-1-Collections常用方法"><a href="#7-1-Collections常用方法" class="headerlink" title="7.1 Collections常用方法"></a>7.1 Collections常用方法</h5><p><strong>查找、替换</strong></p>
<ul>
<li>Object max(Collection)：根据元素的自然顺序，返回给定集合中的最大元素</li>
<li>Object max(Collection, Comparator)：根据Comparator指定的顺序，返回给定集合中的最大元素</li>
<li>Object min(Collection)</li>
<li>Object min(Collection, Comparator)</li>
<li>int frequency(Collection, Object)：返回指定集合中指定元素的出现次数</li>
<li>void copy(List dest, List src)：将src中的内容复制到dest中</li>
<li>boolean replaceAll(List list, Object oldVal, Object newVal)：使用新值替换List对象的所有旧值</li>
</ul>
<p><strong>同步控制</strong></p>
<p>Collection类中提供了多个synchronizedXxx()方法，该方法可使将指定集合包装成线程同步的集合，从而可以解决多线程并发访问集合时的线程安全问题</p>
<table>
<thead>
<tr>
<th>方法修饰符和返回值</th>
<th>方法</th>
</tr>
</thead>
<tbody><tr>
<td>static <T> Collection <T></td>
<td>synchronizedCollection(Collection<T> c) <br />Return a synchronized(thread-safe) collection backed by the spacified collection</td>
</tr>
<tr>
<td>static <T> List <T></td>
<td>synchronizedList(List<T> list)<br />Return a synchronized(thread-safe)list backed by the specified list</td>
</tr>
<tr>
<td>static &lt;K,V&gt; Map &lt;K,V&gt;</td>
<td>synchronizedMap(Map&lt;K,V&gt; m)<br />Return a synchronized(thread-safe) map backed by the specified map</td>
</tr>
<tr>
<td>static <T> Set <T></td>
<td>synchronizedSet(Set<T> s)<br />Return a synchronized(thread-safe) set backed by the specified set</td>
</tr>
<tr>
<td>static &lt;K,V&gt; SotredMap &lt;K,V&gt;</td>
<td>synchronizedSortedMap(SortedMap &lt;K,V&gt; m) <br />Return a synchronized(thread-safe)sorted map backed by the specified sorted map</td>
</tr>
<tr>
<td>static<T> SortedSet<T></td>
<td>synchronizedSortedSet(SortedSet<T> s)<br />Return a synchronized(thread-safe) sorted set backed by the specified sorted set</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionsTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">        list.add(<span class="number">123</span>);</span><br><span class="line">        list.add(<span class="number">32</span>);</span><br><span class="line">        list.add(<span class="number">12</span>);</span><br><span class="line">        list.add(<span class="number">45</span>);</span><br><span class="line">        System.out.println(list);<span class="comment">//[123, 32, 12, 45]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//排序</span></span><br><span class="line">        <span class="comment">//反转</span></span><br><span class="line">        Collections.reverse(list);</span><br><span class="line">        System.out.println(list);<span class="comment">//[45, 12, 32, 123]</span></span><br><span class="line">        <span class="comment">//随机排序</span></span><br><span class="line">        Collections.shuffle(list);</span><br><span class="line">        System.out.println(list);<span class="comment">//[12, 45, 123, 32]</span></span><br><span class="line">        <span class="comment">//自然顺序升序</span></span><br><span class="line">        Collections.sort(list);</span><br><span class="line">        System.out.println(list);<span class="comment">//[12, 32, 45, 123]</span></span><br><span class="line">        <span class="comment">//按脚标交换元素</span></span><br><span class="line">        Collections.swap(list,<span class="number">0</span>,<span class="number">2</span>);</span><br><span class="line">        System.out.println(list);<span class="comment">//[45, 32, 12, 123]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//查找、替换</span></span><br><span class="line">        System.out.println(Collections.max(list));<span class="comment">//123</span></span><br><span class="line">        System.out.println(Collections.min(list));<span class="comment">//12</span></span><br><span class="line">        System.out.println(Collections.frequency(list, <span class="number">123</span>));<span class="comment">//1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//拷贝</span></span><br><span class="line">        <span class="comment">//报异常：IndexOutOfBoundsException(&quot;Source does not fit in dest&quot;)</span></span><br><span class="line"><span class="comment">//        List dest = new ArrayList();</span></span><br><span class="line"><span class="comment">//        Collections.copy(dest,list);</span></span><br><span class="line">        <span class="comment">//正确的：</span></span><br><span class="line">        List dest = Arrays.asList(<span class="keyword">new</span> Object[list.size()]);</span><br><span class="line">        Collections.copy(dest,list);</span><br><span class="line">        System.out.println(dest);<span class="comment">//[45, 32, 12, 123]</span></span><br><span class="line">        Collections.replaceAll(dest,<span class="number">123</span>,<span class="number">777</span>);</span><br><span class="line">        System.out.println(dest);<span class="comment">//[45, 32, 12, 777]</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//使得线程安全</span></span><br><span class="line">        List listSafe = Collections.synchronizedList(list);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>补充</strong></p>
<ul>
<li>Enumeration接口时Iterator迭代器的“古老版本”</li>
<li></li>
</ul>
<table>
<thead>
<tr>
<th>返回值类型</th>
<th>方法</th>
</tr>
</thead>
<tbody><tr>
<td>boolean</td>
<td>hasMoreElements()<br />Tests if this enumeration contains more elements</td>
</tr>
<tr>
<td>E</td>
<td>nextElement()<br />Return the next element of this enumeration if this enumeration object has at least one more element to provide</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Enumeration stringEnum = <span class="keyword">new</span> StringTokenizer(<span class="string">&quot;a-b*c-d-e-g&quot;</span>, <span class="string">&quot;-&quot;</span>);</span><br><span class="line"><span class="keyword">while</span>(stringEnum.hasMoreElements())&#123;</span><br><span class="line">Object obj = stringEnum.nextElement();</span><br><span class="line">System.out.println(obj); </span><br></pre></td></tr></table></figure>


    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div></div>
  <button onclick="document.querySelector('.post-reward').classList.toggle('active');">
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.JPG" alt="软糖豆人 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/images/alipay.JPG" alt="软糖豆人 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          <div class="followme">
  <span>欢迎关注我的其它发布渠道</span>

  <div class="social-list">

      <div class="social-item">
        <a target="_blank" class="social-link" href="/images/wechat_channel.jpg">
          <span class="icon">
            <i class="fab fa-weixin"></i>
          </span>

          <span class="label">WeChat</span>
        </a>
      </div>

      <div class="social-item">
        <a target="_blank" class="social-link" href="/atom.xml">
          <span class="icon">
            <i class="fa fa-rss"></i>
          </span>

          <span class="label">RSS</span>
        </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/Java/" rel="tag"># Java</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/09/17/10%E2%80%94%E6%9E%9A%E4%B8%BE%E7%B1%BB%E4%B8%8E%E6%B3%A8%E8%A7%A3/" rel="prev" title="10-枚举类与注解">
                  <i class="fa fa-chevron-left"></i> 10-枚举类与注解
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/09/17/12%E2%80%94%E6%B3%9B%E5%9E%8B/" rel="next" title="12-泛型">
                  12-泛型 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="SOHUCS"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">软糖豆人</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">543k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">8:14</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/local-search.js"></script>






  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





  <script>
  NexT.utils.loadComments('#SOHUCS', () => {
    NexT.utils.getScript('https://changyan.sohu.com/upload/changyan.js', () => {
      window.changyan.api.config({
        appid: 'cyvkmiP62',
        conf : 'f835963bde21c00f5de8da387f64e40a'
      });
    });
  });
  </script>
  <script src="https://assets.changyan.sohu.com/upload/plugins/plugins.count.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
